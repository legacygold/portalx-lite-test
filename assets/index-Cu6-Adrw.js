import{a1 as k,a2 as H,a3 as Ye,a4 as mr,a5 as we,a6 as _,a7 as ze,a8 as gr,a9 as yo,aa as He,ab as Ga,ac as Ha,ad as qn,ae as V,af as Se,ag as rn,ah as Da,ai as ke,aj as oe,ak as qa,al as Va,am as me,an as Za,ao as Wa,ap as wr,aq as Ka,_ as mo,ar as Vt,as as Vn,at as ss,au as os,av as is,aw as as,ax as cs,ay as us,az as fs,aA as ds,aB as Zn,aC as Nt,aD as ls,aE as Ya,aF as Xt,aG as hs,aH as Xa,aI as Wn,aJ as bs,aK as go,aL as ps,aM as Ja,aN as wo,aO as ys,aP as Qa,aQ as xo,aR as ms,aS as ec,aT as gs}from"./index-C7uM9DsO.js";import{b3 as Oh,b2 as Fh,b4 as Rh,b5 as Ch,b6 as zh,a$ as _h,b7 as Lh,b8 as Uh,b9 as Mh,ba as jh,bb as Gh,bc as Hh,bd as Dh,be as qh,bf as Vh,bg as Zh,bh as Wh,bi as Kh,a_ as Yh,b0 as Xh,bj as Jh,b1 as Qh,bk as eb,bl as tb,bm as nb,bn as rb,bo as sb,bp as ob,bq as ib,bs as ab,br as cb,aU as ub,bt as fb,aY as db,aV as lb,aZ as hb,aX as bb,bu as pb,aW as yb,bv as mb}from"./index-C7uM9DsO.js";const tc="1.1.0";let Q=class Kn extends Error{constructor(t,n={}){const r=n.cause instanceof Kn?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Kn&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${tc}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Oe(e,t){return e.exec(t)?.groups}const vo=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Eo=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Po=/^\(.+?\).*?$/,ws=/^tuple(?<array>(\[(\d*)\])*)$/;function Yn(e){let t=e.type;if(ws.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Yn(o),s<n-1&&(t+=", ")}const r=Oe(ws,e.type);return t+=`)${r?.array??""}`,Yn({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function st(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Yn(s),r!==n-1&&(t+=", ")}return t}function Jt(e){return e.type==="function"?`function ${e.name}(${st(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${st(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${st(e.inputs)})`:e.type==="error"?`error ${e.name}(${st(e.inputs)})`:e.type==="constructor"?`constructor(${st(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Ao=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function nc(e){return Ao.test(e)}function rc(e){return Oe(Ao,e)}const Bo=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function sc(e){return Bo.test(e)}function oc(e){return Oe(Bo,e)}const $o=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ic(e){return $o.test(e)}function ac(e){return Oe($o,e)}const Io=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function sn(e){return Io.test(e)}function cc(e){return Oe(Io,e)}const So=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function uc(e){return So.test(e)}function fc(e){return Oe(So,e)}const ko=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function dc(e){return ko.test(e)}function lc(e){return Oe(ko,e)}const hc=/^receive\(\) external payable$/;function bc(e){return hc.test(e)}const xs=new Set(["memory","indexed","storage","calldata"]),pc=new Set(["indexed"]),Xn=new Set(["calldata","memory","storage"]);class yc extends Q{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class mc extends Q{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class gc extends Q{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class wc extends Q{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class xc extends Q{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class vc extends Q{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Ec extends Q{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Pc extends Q{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Ac extends Q{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class pt extends Q{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Bc extends Q{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class $c extends Q{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Ic extends Q{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Sc extends Q{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function kc(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const Bn=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Jn(e,t={}){if(ic(e))return Tc(e,t);if(sc(e))return Nc(e,t);if(nc(e))return Oc(e,t);if(uc(e))return Fc(e,t);if(dc(e))return Rc(e);if(bc(e))return{type:"receive",stateMutability:"payable"};throw new Bc({signature:e})}function Tc(e,t={}){const n=ac(e);if(!n)throw new pt({signature:e,type:"function"});const r=ee(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Te(r[a],{modifiers:Xn,structs:t,type:"function"}));const i=[];if(n.returns){const a=ee(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Te(a[u],{modifiers:Xn,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Nc(e,t={}){const n=oc(e);if(!n)throw new pt({signature:e,type:"event"});const r=ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Te(r[i],{modifiers:pc,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Oc(e,t={}){const n=rc(e);if(!n)throw new pt({signature:e,type:"error"});const r=ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Te(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Fc(e,t={}){const n=fc(e);if(!n)throw new pt({signature:e,type:"constructor"});const r=ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Te(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Rc(e){const t=lc(e);if(!t)throw new pt({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Cc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,zc=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,_c=/^u?int$/;function Te(e,t){const n=kc(e,t?.type,t?.structs);if(Bn.has(n))return Bn.get(n);const r=Po.test(e),s=Oe(r?zc:Cc,e);if(!s)throw new xc({param:e});if(s.name&&Uc(s.name))throw new vc({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const d=ee(s.type),l=[],h=d.length;for(let b=0;b<h;b++)l.push(Te(d[b],{structs:a}));u={components:l}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(_c.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!To(c))throw new gc({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new Ec({param:e,type:t?.type,modifier:s.modifier});if(Xn.has(s.modifier)&&!Mc(c,!!s.array))throw new Pc({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return Bn.set(n,f),f}function ee(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?ee(a,[...t,n.trim()]):ee(a,t,`${n}${i}`,r);case"(":return ee(a,t,`${n}${i}`,r+1);case")":return ee(a,t,`${n}${i}`,r-1);default:return ee(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Sc({current:n,depth:r});return t.push(n.trim()),t}function To(e){return e==="address"||e==="bool"||e==="function"||e==="string"||vo.test(e)||Eo.test(e)}const Lc=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Uc(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||vo.test(e)||Eo.test(e)||Lc.test(e)}function Mc(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function xr(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!sn(a))continue;const c=cc(a);if(!c)throw new pt({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const b=u[l].trim();if(!b)continue;const y=Te(b,{type:"struct"});f.push(y)}if(!f.length)throw new $c({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=No(c,t)}return r}const jc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function No(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Po.test(i.type))r.push(i);else{const c=Oe(jc,i.type);if(!c?.type)throw new Ac({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new Ic({type:f});r.push({...i,type:`tuple${u??""}`,components:No(t[f]??[],t,new Set([...n,f]))})}else if(To(f))r.push(i);else throw new mc({type:f})}}return r}function Oo(e){const t=xr(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];sn(o)||n.push(Jn(o,t))}return n}function vs(e){let t;if(typeof e=="string")t=Jn(e);else{const n=xr(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!sn(o)){t=Jn(o,n);break}}}if(!t)throw new yc({signature:e});return t}function Es(e){const t=[];if(typeof e=="string"){const n=ee(e),r=n.length;for(let s=0;s<r;s++)t.push(Te(n[s],{modifiers:xs}))}else{const n=xr(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(sn(o))continue;const i=ee(o),a=i.length;for(let c=0;c<a;c++)t.push(Te(i[c],{modifiers:xs,structs:n}))}}if(t.length===0)throw new wc({params:e});return t}function z(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function ue(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new e0(e.type);return`${e.name}(${on(e.inputs,{includeName:t})})`}function on(e,{includeName:t=!1}={}){return e?e.map(n=>Gc(n,{includeName:t})).join(t?", ":","):""}function Gc(e,{includeName:t}){return e.type.startsWith("tuple")?`(${on(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class Hc extends k{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Ps extends k{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Fo extends k{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${on(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Ot extends k{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Dc extends k{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class qc extends k{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${H(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Vc extends k{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Zc extends k{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class As extends k{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Ro extends k{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Wc extends k{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Co extends k{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Bs extends k{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class ft extends k{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class zo extends k{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Kc extends k{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Yc extends k{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${ue(t.abiItem)}\`, and`,`\`${n.type}\` in \`${ue(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Xc=class extends k{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Bt extends k{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${on(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class an extends k{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ue(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Jc extends k{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Qc extends k{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let _o=class extends k{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class e0 extends k{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class t0 extends k{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const n0=new TextEncoder;function yt(e,t={}){return typeof e=="number"||typeof e=="bigint"?s0(e,t):typeof e=="boolean"?r0(e,t):we(e)?xe(e,t):De(e,t)}function r0(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Ye(n,{size:t.size}),mr(n,{size:t.size})):n}const ve={zero:48,nine:57,A:65,F:70,a:97,f:102};function $s(e){if(e>=ve.zero&&e<=ve.nine)return e-ve.zero;if(e>=ve.A&&e<=ve.F)return e-(ve.A-10);if(e>=ve.a&&e<=ve.f)return e-(ve.a-10)}function xe(e,t={}){let n=e;t.size&&(Ye(n,{size:t.size}),n=mr(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=$s(r.charCodeAt(a++)),u=$s(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new k(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function s0(e,t){const n=_(e,t);return xe(n)}function De(e,t={}){const n=n0.encode(e);return typeof t.size=="number"?(Ye(n,{size:t.size}),mr(n,{dir:"right",size:t.size})):n}const Zt=BigInt(2**32-1),Is=BigInt(32);function o0(e,t=!1){return t?{h:Number(e&Zt),l:Number(e>>Is&Zt)}:{h:Number(e>>Is&Zt)|0,l:Number(e&Zt)|0}}function i0(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=o0(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const a0=(e,t,n)=>e<<n|t>>>32-n,c0=(e,t,n)=>t<<n|e>>>32-n,u0=(e,t,n)=>t<<n-32|e>>>64-n,f0=(e,t,n)=>e<<n-32|t>>>64-n,nt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function d0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function $t(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ve(e,...t){if(!d0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function l0(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");$t(e.outputLen),$t(e.blockLen)}function dt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Lo(e,t){Ve(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function h0(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function lt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function $n(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function pe(e,t){return e<<32-t|e>>>t}const b0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function p0(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function y0(e){for(let t=0;t<e.length;t++)e[t]=p0(e[t]);return e}const Ss=b0?e=>e:y0;function m0(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function cn(e){return typeof e=="string"&&(e=m0(e)),Ve(e),e}function g0(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Ve(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}let vr=class{};function Uo(e){const t=r=>e().update(cn(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function w0(e=32){if(nt&&typeof nt.getRandomValues=="function")return nt.getRandomValues(new Uint8Array(e));if(nt&&typeof nt.randomBytes=="function")return Uint8Array.from(nt.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const x0=BigInt(0),Et=BigInt(1),v0=BigInt(2),E0=BigInt(7),P0=BigInt(256),A0=BigInt(113),Mo=[],jo=[],Go=[];for(let e=0,t=Et,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Mo.push(2*(5*r+n)),jo.push((e+1)*(e+2)/2%64);let s=x0;for(let o=0;o<7;o++)t=(t<<Et^(t>>E0)*A0)%P0,t&v0&&(s^=Et<<(Et<<BigInt(o))-Et);Go.push(s)}const Ho=i0(Go,!0),B0=Ho[0],$0=Ho[1],ks=(e,t,n)=>n>32?u0(e,t,n):a0(e,t,n),Ts=(e,t,n)=>n>32?f0(e,t,n):c0(e,t,n);function I0(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],d=ks(u,f,1)^n[a],l=Ts(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=d,e[i+h+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=jo[i],c=ks(s,o,a),u=Ts(s,o,a),f=Mo[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=B0[r],e[1]^=$0[r]}lt(n)}let S0=class Do extends vr{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,$t(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=h0(this.state)}clone(){return this._cloneInto()}keccak(){Ss(this.state32),I0(this.state32,this.rounds),Ss(this.state32),this.posOut=0,this.pos=0}update(t){dt(this),t=cn(t),Ve(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){dt(this,!1),Ve(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return $t(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Lo(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,lt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new Do(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}};const k0=(e,t,n)=>Uo(()=>new S0(t,e,n)),T0=k0(1,136,256/8);function q(e,t){const n=t||"hex",r=T0(we(e,{strict:!1})?yt(e):e);return n==="bytes"?r:ze(r)}const N0=e=>q(yt(e));function O0(e){return N0(e)}function F0(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new k("Unable to normalize signature.");return s}const R0=e=>{const t=typeof e=="string"?e:Jt(e);return F0(t)};function qo(e){return O0(R0(e))}const un=qo;let _e=class extends k{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};const In=new gr(8192);function fn(e,t){if(In.has(`${e}.${t}`))return In.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=q(De(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return In.set(`${e}.${t}`,o),o}function Vo(e,t){if(!ie(e,{strict:!1}))throw new _e({address:e});return fn(e,t)}const C0=/^0x[a-fA-F0-9]{40}$/,Sn=new gr(8192);function ie(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Sn.has(r))return Sn.get(r);const s=C0.test(e)?e.toLowerCase()===e?!0:n?fn(e)===e:!0:!1;return Sn.set(r,s),s}function fe(e){return typeof e[0]=="string"?mt(e):z0(e)}function z0(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function mt(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function ht(e,t,n,{strict:r}={}){return we(e,{strict:!1})?_0(e,t,n,{strict:r}):Ko(e,t,n,{strict:r})}function Zo(e,t){if(typeof t=="number"&&t>0&&t>H(e)-1)throw new yo({offset:t,position:"start",size:H(e)})}function Wo(e,t,n){if(typeof t=="number"&&typeof n=="number"&&H(e)!==n-t)throw new yo({offset:n,position:"end",size:H(e)})}function Ko(e,t,n,{strict:r}={}){Zo(e,t);const s=e.slice(t,n);return r&&Wo(s,t,n),s}function _0(e,t,n,{strict:r}={}){Zo(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Wo(s,t,n),s}const L0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Yo=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ue(e,t){if(e.length!==t.length)throw new Vc({expectedLength:e.length,givenLength:t.length});const n=U0({params:e,values:t}),r=Pr(n);return r.length===0?"0x":r}function U0({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Er({param:e[r],value:t[r]}));return n}function Er({param:e,value:t}){const n=Ar(e.type);if(n){const[r,s]=n;return j0(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return V0(t,{param:e});if(e.type==="address")return M0(t);if(e.type==="bool")return H0(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Yo.exec(e.type)??[];return D0(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return G0(t,{param:e});if(e.type==="string")return q0(t);throw new Jc(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Pr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=H(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(_(t+s,{size:32})),r.push(a),s+=H(a)):n.push(a)}return fe([...n,...r])}function M0(e){if(!ie(e))throw new _e({address:e});return{dynamic:!1,encoded:He(e.toLowerCase())}}function j0(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new _o(e);if(!r&&e.length!==t)throw new Dc({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=Er({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=Pr(o);if(r){const a=_(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?fe([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:fe(o.map(({encoded:i})=>i))}}function G0(e,{param:t}){const[,n]=t.type.split("bytes"),r=H(e);if(!n){let s=e;return r%32!==0&&(s=He(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:fe([He(_(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new qc({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:He(e,{dir:"right"})}}function H0(e){if(typeof e!="boolean")throw new k(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:He(Ga(e))}}function D0(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Ha({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:_(e,{size:32,signed:t})}}function q0(e){const t=qn(e),n=Math.ceil(H(t)/32),r=[];for(let s=0;s<n;s++)r.push(He(ht(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:fe([He(_(H(t),{size:32})),...r])}}function V0(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=Er({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Pr(r):fe(r.map(({encoded:s})=>s))}}function Ar(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Ft=e=>ht(qo(e),0,4);function Xe(e){const{abi:t,args:n=[],name:r}=e,s=we(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?Ft(a)===r:a.type==="event"?un(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?Qn(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=Xo(a.inputs,i.inputs,n);if(u)throw new Yc({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Qn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ie(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Qn(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Qn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Xo(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Xo(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?ie(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?ie(n[r],{strict:!1}):!1)return i}}const Ns="/docs/contract/encodeEventTopics";function Rt(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=Xe({abi:t,name:n});if(!c)throw new Bs(n,{docsPath:Ns});s=c}if(s.type!=="event")throw new Bs(void 0,{docsPath:Ns});const o=ue(s),i=un(o);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(f=>r[f.name])??[]:[];u.length>0&&(a=c?.map((f,d)=>Array.isArray(u[d])?u[d].map((l,h)=>Os({param:f,value:u[d][h]})):typeof u[d]<"u"&&u[d]!==null?Os({param:f,value:u[d]}):null)??[])}return[i,...a]}function Os({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return q(yt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new t0(e.type);return Ue([e],[t])}function dn(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&t===r&&(n[s]=i.request)}),(r=>n[r]||e.request)}async function Jo(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=dn(e,{method:"eth_newFilter"}),f=o?Rt({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?_(i):i,toBlock:typeof c=="bigint"?_(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}function te(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Fs="/docs/contract/encodeFunctionData";function Z0(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Xe({abi:t,args:n,name:r});if(!o)throw new ft(r,{docsPath:Fs});s=o}if(s.type!=="function")throw new ft(void 0,{docsPath:Fs});return{abi:[s],functionName:Ft(ue(s))}}function be(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:Z0(e),s=n[0],o=r,i="inputs"in s&&s.inputs?Ue(s.inputs,t??[]):void 0;return mt([o,i??"0x"])}const W0={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Qo={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},K0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let Rs=class extends k{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},ei=class extends k{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},Y0=class extends k{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const X0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Y0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new ei({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Rs({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Rs({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Br(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(X0);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function J0(e,t={}){typeof t.size<"u"&&Ye(e,{size:t.size});const n=V(e,t);return ke(n,t)}function Q0(e,t={}){let n=e;if(typeof t.size<"u"&&(Ye(n,{size:t.size}),n=rn(n)),n.length>1||n[0]>1)throw new Da(n);return!!n[0]}function $e(e,t={}){typeof t.size<"u"&&Ye(e,{size:t.size});const n=V(e,t);return Se(n,t)}function eu(e,t={}){let n=e;return typeof t.size<"u"&&(Ye(n,{size:t.size}),n=rn(n,{dir:"right"})),new TextDecoder().decode(n)}function Ct(e,t){const n=typeof t=="string"?xe(t):t,r=Br(n);if(H(n)===0&&e.length>0)throw new Ot;if(H(t)&&H(t)<32)throw new Fo({data:typeof t=="string"?t:V(t),params:e,size:H(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=at(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function at(e,t,{staticPosition:n}){const r=Ar(t.type);if(r){const[s,o]=r;return nu(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return iu(e,t,{staticPosition:n});if(t.type==="address")return tu(e);if(t.type==="bool")return ru(e);if(t.type.startsWith("bytes"))return su(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return ou(e,t);if(t.type==="string")return au(e,{staticPosition:n});throw new Qc(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Cs=32,er=32;function tu(e){const t=e.readBytes(32);return[fn(V(Ko(t,-20))),32]}function nu(e,t,{length:n,staticPosition:r}){if(!n){const i=$e(e.readBytes(er)),a=r+i,c=a+Cs;e.setPosition(a);const u=$e(e.readBytes(Cs)),f=It(t);let d=0;const l=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:d));const[b,y]=at(e,t,{staticPosition:c});d+=y,l.push(b)}return e.setPosition(r+32),[l,32]}if(It(t)){const i=$e(e.readBytes(er)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=at(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=at(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function ru(e){return[Q0(e.readBytes(32),{size:32}),32]}function su(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=$e(e.readBytes(32));e.setPosition(n+i);const a=$e(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[V(c),32]}return[V(e.readBytes(Number.parseInt(s,10),32)),32]}function ou(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?J0(s,{signed:n}):$e(s,{signed:n}),32]}function iu(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(It(t)){const i=$e(e.readBytes(er)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,d]=at(e,u,{staticPosition:a});o+=d,s[r?c:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=at(e,a,{staticPosition:n});s[r?i:a?.name]=c,o+=u}return[s,o]}function au(e,{staticPosition:t}){const n=$e(e.readBytes(32)),r=t+n;e.setPosition(r);const s=$e(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=eu(rn(o));return e.setPosition(t+32),[i,32]}function It(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(It);const n=Ar(e.type);return!!(n&&It({...e,type:n[1]}))}function ti(e){const{abi:t,data:n}=e,r=ht(n,0,4);if(r==="0x")throw new Ot;const o=[...t||[],Qo,K0].find(i=>i.type==="error"&&r===Ft(ue(i)));if(!o)throw new Ro(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Ct(o.inputs,ht(n,4)):void 0,errorName:o.name}}function ni({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?oe(t[o]):t[o]}`).join(", ")})`}function $r(e,t="wei"){return qa(e,Va[t])}class cu extends k{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class uu extends k{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function zs(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function fu(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=zs(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=zs(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function zt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class du extends k{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",zt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class lu extends k{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=zt({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:d,value:typeof l<"u"&&`${$r(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${me(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${me(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${me(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ri extends k{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class si extends k{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class hu extends k{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class bu extends k{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class oi extends k{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:h}){const b=n?te(n):void 0;let y=zt({from:b?.address,to:d,value:typeof l<"u"&&`${$r(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${me(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${me(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${me(u)} gwei`,nonce:f});h&&(y+=`
${fu(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ii extends k{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=Xe({abi:n,args:r,name:i}),u=c?ni({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?ue(c,{includeName:!0}):void 0,d=zt({address:s&&Za(s),function:f,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class tr extends k{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=ti({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")c=l[0];else if(d==="Panic"){const[h]=l;c=W0[h]}else{const h=f?ue(f,{includeName:!0}):void 0,b=f&&l?ni({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",b&&b!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof Ro&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class pu extends k{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class yu extends k{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class ln extends k{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const mu=3;function bt(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof ln?e:e instanceof k?e.walk(b=>"data"in b)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,h=e instanceof Ot?new pu({functionName:o}):[mu,Wa.code].includes(c)&&(u||f||d||l)||c===wr.code&&f==="execution reverted"&&u?new tr({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof Ka?f:l??d}):e;return new ii(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function gu(e){const t=q(`0x${e.substring(4)}`).substring(26);return fn(`0x${t}`)}async function wu({hash:e,signature:t}){const n=we(e)?e:ze(e),{secp256k1:r}=await mo(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>eh);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,h=Number(l??d),b=_s(h);return new r.Signature(ke(u),ke(f)).addRecoveryBit(b)}const i=we(t)?t:ze(t);if(H(i)!==65)throw new Error("invalid signature length");const a=Se(`0x${i.slice(130)}`),c=_s(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function _s(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function ai({hash:e,signature:t}){return gu(await wu({hash:e,signature:t}))}function xu(e,t="hex"){const n=ci(e),r=Br(new Uint8Array(n.length));return n.encode(r),t==="hex"?V(r.bytes):r.bytes}function ci(e){return Array.isArray(e)?vu(e.map(t=>ci(t))):Eu(e)}function vu(e){const t=e.reduce((s,o)=>s+o.length,0),n=ui(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function Eu(e){const t=typeof e=="string"?xe(e):e,n=ui(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function ui(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new k("Length is too large.")}function Pu(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=q(mt(["0x05",xu([t?_(t):"0x",s,n?_(n):"0x"])]));return r==="bytes"?xe(o):o}async function fi(e){const{authorization:t,signature:n}=e;return ai({hash:Pu(t),signature:n??t})}class Au extends k{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=zt({from:n?.address,to:d,value:typeof l<"u"&&`${$r(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${me(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${me(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${me(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function hn(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof k?e.walk(s=>s?.code===Vt.code):e;return r instanceof k?new Vt({cause:e,message:r.details}):Vt.nodeMessage.test(n)?new Vt({cause:e,message:e.details}):Vn.nodeMessage.test(n)?new Vn({cause:e,maxFeePerGas:t?.maxFeePerGas}):ss.nodeMessage.test(n)?new ss({cause:e,maxFeePerGas:t?.maxFeePerGas}):os.nodeMessage.test(n)?new os({cause:e,nonce:t?.nonce}):is.nodeMessage.test(n)?new is({cause:e,nonce:t?.nonce}):as.nodeMessage.test(n)?new as({cause:e,nonce:t?.nonce}):cs.nodeMessage.test(n)?new cs({cause:e}):us.nodeMessage.test(n)?new us({cause:e,gas:t?.gas}):fs.nodeMessage.test(n)?new fs({cause:e,gas:t?.gas}):ds.nodeMessage.test(n)?new ds({cause:e}):Zn.nodeMessage.test(n)?new Zn({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new Nt({cause:e})}function Bu(e,{docsPath:t,...n}){const r=(()=>{const s=hn(e,n);return s instanceof Nt?e:s})();return new Au(r,{docsPath:t,...n})}function bn(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}const $u={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function _t(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=Iu(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>V(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=_(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=_(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=_(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=_(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=_(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=_(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=$u[e.type]),typeof e.value<"u"&&(n.value=_(e.value)),n}function Iu(e){return e.map(t=>({address:t.address,r:t.r?_(BigInt(t.r)):t.r,s:t.s?_(BigInt(t.s)):t.s,chainId:_(t.chainId),nonce:_(t.nonce),...typeof t.yParity<"u"?{yParity:_(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:_(t.v)}:{}}))}function Ls(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new ls({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new ls({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Su(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=_(t)),n!==void 0&&(i.nonce=_(n)),r!==void 0&&(i.state=Ls(r)),s!==void 0){if(i.state)throw new uu;i.stateDiff=Ls(s)}return i}function Ir(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ie(n,{strict:!1}))throw new _e({address:n});if(t[n])throw new cu({address:n});t[n]=Su(r)}return t}const ku=2n**256n-1n;function gt(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,o=t?te(t):void 0;if(o&&!ie(o.address))throw new _e({address:o.address});if(s&&!ie(s))throw new _e({address:s});if(n&&n>ku)throw new Vn({maxFeePerGas:n});if(r&&n&&r>n)throw new Zn({maxFeePerGas:n,maxPriorityFeePerGas:r})}class di extends k{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Sr extends k{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Tu extends k{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${me(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class li extends k{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const hi={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function kr(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Se(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Se(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?hi[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=Nu(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function Nu(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function bi(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:kr(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function ce(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const o=s??!1,i=n!==void 0?_(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new li({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||bi)(a,"getBlock")}async function Tr(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Ou(e,t){return pi(e,t)}async function pi(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await z(e,ce,"getBlock")({}),c=await o({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof o<"u")return o;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return ke(i)}catch{const[o,i]=await Promise.all([n?Promise.resolve(n):z(e,ce,"getBlock")({}),z(e,Tr,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new Sr;const a=i-o.baseFeePerGas;return a<0n?0n:a}}async function Fu(e,t){return nr(e,t)}async function nr(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new di;const c=10**(i.toString().split(".")[1]?.length??0),u=l=>l*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await z(e,ce,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(l!==null)return l}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Sr;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await pi(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??h+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??u(await z(e,Tr,"getGasPrice")({}))}}async function yi(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?_(r):n]},{dedupe:!!r});return Se(s)}function mi(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>xe(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>V(o))}function gi(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>xe(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>xe(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>V(i))}function Ru(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function Cu(e,t,n){return e&t^~e&n}function zu(e,t,n){return e&t^e&n^t&n}class _u extends vr{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=$n(this.buffer)}update(t){dt(this),t=cn(t),Ve(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=$n(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){dt(this),Lo(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,lt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;Ru(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=$n(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Re=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Lu=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ce=new Uint32Array(64);class Uu extends _u{constructor(t=32){super(64,t,8,!1),this.A=Re[0]|0,this.B=Re[1]|0,this.C=Re[2]|0,this.D=Re[3]|0,this.E=Re[4]|0,this.F=Re[5]|0,this.G=Re[6]|0,this.H=Re[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Ce[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=Ce[d-15],h=Ce[d-2],b=pe(l,7)^pe(l,18)^l>>>3,y=pe(h,17)^pe(h,19)^h>>>10;Ce[d]=y+Ce[d-7]+b+Ce[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=pe(a,6)^pe(a,11)^pe(a,25),h=f+l+Cu(a,c,u)+Lu[d]+Ce[d]|0,y=(pe(r,2)^pe(r,13)^pe(r,22))+zu(r,s,o)|0;f=u,u=c,c=a,a=i+h|0,i=o,o=s,s=r,r=h+y|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,a,c,u,f)}roundClean(){lt(Ce)}destroy(){this.set(0,0,0,0,0,0,0,0),lt(this.buffer)}}const wi=Uo(()=>new Uu),Mu=wi;function ju(e,t){return Mu(we(e,{strict:!1})?yt(e):e)}function Gu(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=ju(t);return s.set([n],0),r==="bytes"?s:V(s)}function Hu(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const o of t)s.push(Gu({commitment:o,to:r,version:n}));return s}const Us=6,xi=32,Nr=4096,vi=xi*Nr,Ms=vi*Us-1-1*Nr*Us;class Du extends k{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class qu extends k{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Vu(e){const t=typeof e.data=="string"?xe(e.data):e.data,n=H(t);if(!n)throw new qu;if(n>Ms)throw new Du({maxSize:Ms,size:n});const r=[];let s=!0,o=0;for(;s;){const i=Br(new Uint8Array(vi));let a=0;for(;a<Nr;){const c=t.slice(o,o+(xi-1));if(i.pushByte(0),i.pushBytes(c),c.length<31){i.pushByte(128),s=!1;break}a++,o+=31}r.push(i)}return r.map(i=>V(i.bytes))}function Zu(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Vu({data:t}),o=e.commitments??mi({blobs:s,kzg:n,to:r}),i=e.proofs??gi({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function Wu(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new du({transaction:e})}function Ku(e,{docsPath:t,...n}){const r=(()=>{const s=hn(e,n);return s instanceof Nt?e:s})();return new lu(r,{docsPath:t,...n})}async function Or(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Se(t)}async function Ei(e,t){const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:a,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:b,nonceManager:y,to:w,type:v,value:$,...m}=t,p=await(async()=>{if(!n||!y)return b;const S=te(n),N=o?o.id:await z(e,Or,"getChainId")({});return await y.consume({address:S.address,chainId:N,client:e})})();gt(t);const g=o?.formatters?.transactionRequest?.format,x=(g||_t)({...bn(m,{format:g}),account:n?te(n):void 0,accessList:r,authorizationList:s,blobs:a,blobVersionedHashes:i,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:p,to:w,type:v,value:$},"fillTransaction");try{const S=await e.request({method:"eth_fillTransaction",params:[x]}),E=(o?.formatters?.transaction?.format||kr)(S.tx);delete E.blockHash,delete E.blockNumber,delete E.r,delete E.s,delete E.transactionIndex,delete E.v,delete E.yParity,E.data=E.input,E.gas&&(E.gas=t.gas??E.gas),E.gasPrice&&(E.gasPrice=t.gasPrice??E.gasPrice),E.maxFeePerBlobGas&&(E.maxFeePerBlobGas=t.maxFeePerBlobGas??E.maxFeePerBlobGas),E.maxFeePerGas&&(E.maxFeePerGas=t.maxFeePerGas??E.maxFeePerGas),E.maxPriorityFeePerGas&&(E.maxPriorityFeePerGas=t.maxPriorityFeePerGas??E.maxPriorityFeePerGas),E.nonce&&(E.nonce=t.nonce??E.nonce);const T=await(async()=>{if(typeof o?.fees?.baseFeeMultiplier=="function"){const B=await z(e,ce,"getBlock")({});return o.fees.baseFeeMultiplier({block:B,client:e,request:t})}return o?.fees?.baseFeeMultiplier??1.2})();if(T<1)throw new di;const F=10**(T.toString().split(".")[1]?.length??0),M=B=>B*BigInt(Math.ceil(T*F))/BigInt(F);return E.maxFeePerGas&&!t.maxFeePerGas&&(E.maxFeePerGas=M(E.maxFeePerGas)),E.gasPrice&&!t.gasPrice&&(E.gasPrice=M(E.gasPrice)),{raw:S.raw,transaction:{from:x.from,...E}}}catch(S){throw Ku(S,{...t,chain:e.chain})}}const Yu=["blobVersionedHashes","chainId","fees","gas","nonce","type"],js=new Map,kn=new gr(128);async function Pi(e,t){const r=kn.get(e.uid)!==!1&&["fees","gas"].some(m=>t.parameters?.includes(m))?await z(e,Ei,"fillTransaction")(t).then(m=>{const{chainId:p,from:g,gas:P,gasPrice:x,nonce:S,maxFeePerBlobGas:N,maxFeePerGas:E,maxPriorityFeePerGas:T,type:O}=m.transaction;return kn.set(e.uid,!0),{...t,chainId:p,from:g,gas:P,gasPrice:x,nonce:S,maxFeePerBlobGas:N,maxFeePerGas:E,maxPriorityFeePerGas:T,type:O}}).catch(m=>{const p=m;return(p.cause.name==="MethodNotFoundRpcError"||p.cause.name==="MethodNotSupportedRpcError")&&kn.set(e.uid,!1),t}):t,{account:s=e.account,blobs:o,chain:i,gas:a,kzg:c,nonce:u,nonceManager:f,parameters:d=Yu,type:l}=r,h=s&&te(s),b={...r,...h?{from:h?.address}:{}};let y;async function w(){return y||(y=await z(e,ce,"getBlock")({blockTag:"latest"}),y)}let v;async function $(){return v||(i?i.id:typeof b.chainId<"u"?b.chainId:(v=await z(e,Or,"getChainId")({}),v))}if(d.includes("nonce")&&typeof u>"u"&&h)if(f){const m=await $();b.nonce=await f.consume({address:h.address,chainId:m,client:e})}else b.nonce=await z(e,yi,"getTransactionCount")({address:h.address,blockTag:"pending"});if((d.includes("blobVersionedHashes")||d.includes("sidecars"))&&o&&c){const m=mi({blobs:o,kzg:c});if(d.includes("blobVersionedHashes")){const p=Hu({commitments:m,to:"hex"});b.blobVersionedHashes=p}if(d.includes("sidecars")){const p=gi({blobs:o,commitments:m,kzg:c}),g=Zu({blobs:o,commitments:m,proofs:p,to:"hex"});b.sidecars=g}}if(d.includes("chainId")&&(b.chainId=await $()),(d.includes("fees")||d.includes("type"))&&typeof l>"u")try{b.type=Wu(b)}catch{let m=js.get(e.uid);typeof m>"u"&&(m=typeof(await w())?.baseFeePerGas=="bigint",js.set(e.uid,m)),b.type=m?"eip1559":"legacy"}if(d.includes("fees"))if(b.type!=="legacy"&&b.type!=="eip2930"){if(typeof b.maxFeePerGas>"u"||typeof b.maxPriorityFeePerGas>"u"){const m=await w(),{maxFeePerGas:p,maxPriorityFeePerGas:g}=await nr(e,{block:m,chain:i,request:b});if(typeof b.maxPriorityFeePerGas>"u"&&b.maxFeePerGas&&b.maxFeePerGas<g)throw new Tu({maxPriorityFeePerGas:g});b.maxPriorityFeePerGas=g,b.maxFeePerGas=p}}else{if(typeof b.maxFeePerGas<"u"||typeof b.maxPriorityFeePerGas<"u")throw new Sr;if(typeof b.gasPrice>"u"){const m=await w(),{gasPrice:p}=await nr(e,{block:m,chain:i,request:b,type:"legacy"});b.gasPrice=p}}return d.includes("gas")&&typeof a>"u"&&(b.gas=await z(e,Fr,"estimateGas")({...b,account:h,prepare:h?.type==="local"?[]:["blobVersionedHashes"]})),gt(b),delete b.parameters,b}async function Fr(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?te(n):void 0,o=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const{accessList:i,authorizationList:a,blobs:c,blobVersionedHashes:u,blockNumber:f,blockTag:d,data:l,gas:h,gasPrice:b,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:$,value:m,stateOverride:p,...g}=r?await Pi(e,{...t,parameters:o}):t,x=(typeof f=="bigint"?_(f):void 0)||d,S=Ir(p),N=await(async()=>{if(g.to)return g.to;if(a&&a.length>0)return await fi({authorization:a[0]}).catch(()=>{throw new k("`to` is required. Could not infer from `authorizationList`")})})();gt(t);const E=e.chain?.formatters?.transactionRequest?.format,O=(E||_t)({...bn(g,{format:E}),account:s,accessList:i,authorizationList:a,blobs:c,blobVersionedHashes:u,data:l,gas:h,gasPrice:b,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:$,to:N,value:m},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:S?[O,x??e.experimental_blockTag??"latest",S]:x?[O,x]:[O]}))}catch(i){throw Bu(i,{...t,account:s,chain:e.chain})}}async function Xu(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...a}=t,c=be({abi:n,args:s,functionName:o});try{return await z(e,Fr,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?te(a.account):void 0;throw bt(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f?.address})}}function Lt(e,t){if(!ie(e,{strict:!1}))throw new _e({address:e});if(!ie(t,{strict:!1}))throw new _e({address:t});return e.toLowerCase()===t.toLowerCase()}const Gs="/docs/contract/decodeEventLog";function Rr(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new Wc({docsPath:Gs});const c=t.find(y=>y.type==="event"&&i===un(ue(y)));if(!(c&&"name"in c)||c.type!=="event")throw new Co(i,{docsPath:Gs});const{name:u,inputs:f}=c,d=f?.some(y=>!("name"in y&&y.name)),l=d?[]:{},h=f.map((y,w)=>[y,w]).filter(([y])=>"indexed"in y&&y.indexed);for(let y=0;y<h.length;y++){const[w,v]=h[y],$=a[y];if(!$)throw new an({abiItem:c,param:w});l[d?v:w.name||v]=Ju({param:w,value:$})}const b=f.filter(y=>!("indexed"in y&&y.indexed));if(b.length>0){if(n&&n!=="0x")try{const y=Ct(b,n);if(y)if(d)for(let w=0;w<f.length;w++)l[w]=l[w]??y.shift();else for(let w=0;w<b.length;w++)l[b[w].name]=y[w]}catch(y){if(o)throw y instanceof Fo||y instanceof ei?new Bt({abiItem:c,data:n,params:b,size:H(n)}):y}else if(o)throw new Bt({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function Ju({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Ct([e],t)||[])[0]}function Cr(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{try{const a=t.find(u=>u.type==="event"&&i.topics[0]===un(u));if(!a)return null;const c=Rr({...i,abi:[a],strict:s});return o&&!o.includes(c.eventName)||!Qu({args:c.args,inputs:a.inputs,matchArgs:n})?null:{...c,...i}}catch(a){let c,u;if(a instanceof Co)return null;if(a instanceof Bt||a instanceof an){if(s)return null;c=a.abiItem.name,u=a.abiItem.inputs?.some(f=>!("name"in f&&f.name))}return{...i,args:u?[]:{},eventName:c}}}).filter(Boolean)}function Qu(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?Lt(i,a):o.type==="string"||o.type==="bytes"?q(yt(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function Ne(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function zr(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(y=>Rt({abi:[y],eventName:y.name,args:i?void 0:a}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?_(r):r,toBlock:typeof s=="bigint"?_(s):s}]});const h=l.map(b=>Ne(b));return f?Cr({abi:f,args:a,logs:h,strict:u}):h}async function Ai(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?Xe({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return z(e,zr,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}const Tn="/docs/contract/decodeFunctionResult";function Je(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=Xe({abi:t,args:n,name:r});if(!a)throw new ft(r,{docsPath:Tn});o=a}if(o.type!=="function")throw new ft(void 0,{docsPath:Tn});if(!o.outputs)throw new zo(o.name,{docsPath:Tn});const i=Ct(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const ef="0.1.1";function tf(){return ef}class U extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof U){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof U&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${tf()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return Bi(this,t)}}function Bi(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Bi(e.cause,t):t?null:e}function Ut(e,t){if(ot(e)>t)throw new wf({givenSize:ot(e),maxSize:t})}const Ee={zero:48,nine:57,A:65,F:70,a:97,f:102};function Hs(e){if(e>=Ee.zero&&e<=Ee.nine)return e-Ee.zero;if(e>=Ee.A&&e<=Ee.F)return e-(Ee.A-10);if(e>=Ee.a&&e<=Ee.f)return e-(Ee.a-10)}function nf(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new xf({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function $i(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function pn(e,t){if(ne(e)>t)throw new $f({givenSize:ne(e),maxSize:t})}function rf(e,t){if(typeof t=="number"&&t>0&&t>ne(e)-1)throw new Ci({offset:t,position:"start",size:ne(e)})}function sf(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ne(e)!==n-t)throw new Ci({offset:n,position:"end",size:ne(e)})}function Ii(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new If({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const of="#__bigint";function Si(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+of:s,n)}const af=new TextDecoder,cf=new TextEncoder;function uf(e){return e instanceof Uint8Array?e:typeof e=="string"?ki(e):ff(e)}function ff(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function ki(e,t={}){const{size:n}=t;let r=e;n&&(pn(e,n),r=We(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=Hs(s.charCodeAt(c++)),f=Hs(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new U(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u*16+f}return i}function df(e,t={}){const{size:n}=t,r=cf.encode(e);return typeof n=="number"?(Ut(r,n),lf(r,n)):r}function lf(e,t){return nf(e,{dir:"right",size:t})}function ot(e){return e.length}function hf(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function bf(e,t={}){const{size:n}=t;typeof n<"u"&&Ut(e,n);const r=le(e,t);return Oi(r,t)}function pf(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Ut(r,n),r=Ti(r)),r.length>1||r[0]>1)throw new gf(r);return!!r[0]}function Ie(e,t={}){const{size:n}=t;typeof n<"u"&&Ut(e,n);const r=le(e,t);return Fi(r,t)}function yf(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Ut(r,n),r=mf(r)),af.decode(r)}function Ti(e){return $i(e,{dir:"left"})}function mf(e){return $i(e,{dir:"right"})}class gf extends U{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let wf=class extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},xf=class extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const vf=new TextEncoder,Ef=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Pf(e,t={}){const{strict:n=!1}=t;if(!e)throw new Ds(e);if(typeof e!="string")throw new Ds(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new qs(e);if(!e.startsWith("0x"))throw new qs(e)}function de(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Af(e){return e instanceof Uint8Array?le(e):Array.isArray(e)?le(new Uint8Array(e)):e}function Ni(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(pn(n,t.size),Ze(n,t.size)):n}function le(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Ef[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(pn(r,t.size),We(r,t.size)):r}function W(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new Ri({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ze(c,r):c}function _r(e,t={}){return le(vf.encode(e),t)}function Ze(e,t){return Ii(e,{dir:"left",size:t})}function We(e,t){return Ii(e,{dir:"right",size:t})}function ge(e,t,n,r={}){const{strict:s}=r;rf(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&sf(o,t,n),o}function ne(e){return Math.ceil((e.length-2)/2)}function Oi(e,t={}){const{signed:n}=t;t.size&&pn(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function Fi(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Oi(e,t))}function Bf(e,t={}){const{strict:n=!1}=t;try{return Pf(e,{strict:n}),!0}catch{return!1}}class Ri extends U{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Ds extends U{constructor(t){super(`Value \`${typeof t=="object"?Si(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class qs extends U{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class $f extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Ci extends U{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class If extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Sf(e){return{address:e.address,amount:W(e.amount),index:W(e.index),validatorIndex:W(e.validatorIndex)}}function zi(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:W(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:W(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:W(e.gasLimit)},...typeof e.number=="bigint"&&{number:W(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:W(e.prevRandao)},...typeof e.time=="bigint"&&{time:W(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Sf)}}}const kf="0x82ad56cb",_i="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Tf="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Nf="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Lr="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class rr extends k{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Li extends k{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const Nn="/docs/contract/encodeDeployData";function Ur(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new Hc({docsPath:Nn});if(!("inputs"in s))throw new Ps({docsPath:Nn});if(!s.inputs||s.inputs.length===0)throw new Ps({docsPath:Nn});const o=Ue(s.inputs,n);return mt([r,o])}function wt({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new rr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new rr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Ui(e,{docsPath:t,...n}){const r=(()=>{const s=hn(e,n);return s instanceof Nt?e:s})();return new oi(r,{docsPath:t,...n})}async function Mt(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:h,gas:b,gasPrice:y,maxFeePerBlobGas:w,maxFeePerGas:v,maxPriorityFeePerGas:$,nonce:m,to:p,value:g,stateOverride:P,...x}=t,S=n?te(n):void 0;if(f&&(l||h))throw new k("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&p)throw new k("Cannot provide both `code` & `to` as parameters.");const N=f&&d,E=l&&h&&p&&d,T=N||E,O=N?Mi({code:f,data:d}):E?Rf({data:d,factory:l,factoryData:h,to:p}):d;try{gt(t);const M=(typeof o=="bigint"?_(o):void 0)||i,B=u?zi(u):void 0,A=Ir(P),R=e.chain?.formatters?.transactionRequest?.format,C=(R||_t)({...bn(x,{format:R}),accessList:a,account:S,authorizationList:r,blobs:c,data:O,gas:b,gasPrice:y,maxFeePerBlobGas:w,maxFeePerGas:v,maxPriorityFeePerGas:$,nonce:m,to:T?void 0:p,value:g},"call");if(s&&Of({request:C})&&!A&&!B)try{return await Ff(e,{...C,blockNumber:o,blockTag:i})}catch(G){if(!(G instanceof Li)&&!(G instanceof rr))throw G}const L=(()=>{const G=[C,M];return A&&B?[...G,A,B]:A?[...G,A]:B?[...G,{},B]:G})(),j=await e.request({method:"eth_call",params:L});return j==="0x"?{data:void 0}:{data:j}}catch(F){const M=Cf(F),{offchainLookup:B,offchainLookupSignature:A}=await mo(async()=>{const{offchainLookup:R,offchainLookupSignature:I}=await Promise.resolve().then(()=>Td);return{offchainLookup:R,offchainLookupSignature:I}},void 0);if(e.ccipRead!==!1&&M?.slice(0,10)===A&&p)return{data:await B(e,{data:M,to:p})};throw T&&M?.slice(0,10)==="0x101bb98d"?new yu({factory:l}):Ui(F,{...t,account:S,chain:e.chain})}}function Of({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(kf)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Ff(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return wt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Li})(),d=(typeof o=="bigint"?_(o):void 0)||i,{schedule:l}=Ya({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(y){return y.reduce((v,{data:$})=>v+($.length-2),0)>n*2},fn:async y=>{const w=y.map(m=>({allowFailure:!0,callData:m.data,target:m.to})),v=be({abi:Xt,args:[w],functionName:"aggregate3"}),$=await e.request({method:"eth_call",params:[{...u===null?{data:Mi({code:Lr,data:v})}:{to:u,data:v}},d]});return Je({abi:Xt,args:[w],functionName:"aggregate3",data:$||"0x"})}}),[{returnData:h,success:b}]=await l({data:a,to:c});if(!b)throw new ln({data:h});return h==="0x"?{data:void 0}:{data:h}}function Mi(e){const{code:t,data:n}=e;return Ur({abi:Oo(["constructor(bytes, bytes)"]),bytecode:_i,args:[t,n]})}function Rf(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Ur({abi:Oo(["constructor(address, bytes, address, bytes)"]),bytecode:Tf,args:[s,t,n,r]})}function Cf(e){if(!(e instanceof k))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function he(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=be({abi:n,args:s,functionName:o});try{const{data:c}=await z(e,Mt,"call")({...i,data:a,to:r});return Je({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw bt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function zf(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?te(a.account):e.account,u=be({abi:n,args:s,functionName:i});try{const{data:f}=await z(e,Mt,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),d=Je({abi:n,args:s,functionName:i,data:f||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(f){throw bt(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}const On=new Map,Vs=new Map;let _f=0;function Le(e,t,n){const r=++_f,s=()=>On.get(e)||[],o=()=>{const f=s();On.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=Vs.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},a=s();if(On.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=((...d)=>{const l=s();if(l.length!==0)for(const h of l)h.fns[f]?.(...d)});const u=n(c);return typeof u=="function"&&Vs.set(e,u),i}function jt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await n?.(a)??r;await hs(c);const u=async()=>{s&&(await e({unpoll:o}),await hs(r),u())};u()})(),o}const Lf=new Map,Uf=new Map;function Mf(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Lf),r=t(e,Uf);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function jf(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Mf(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const Gf=e=>`blockNumber.${e}`;async function Gt(e,{cacheTime:t=e.cacheTime}={}){const n=await jf(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Gf(e.uid),cacheTime:t});return BigInt(n)}async function yn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Ne(o));return!("abi"in t)||!t.abi?s:Cr({abi:t.abi,logs:s,strict:n})}async function mn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Hf(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const w=l??!1,v=oe(["watchContractEvent",r,s,o,e.uid,i,d,w,a]);return Le(v,{onLogs:u,onError:c},$=>{let m;a!==void 0&&(m=a-1n);let p,g=!1;const P=jt(async()=>{if(!g){try{p=await z(e,Jo,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:w,fromBlock:a})}catch{}g=!0;return}try{let x;if(p)x=await z(e,yn,"getFilterChanges")({filter:p});else{const S=await z(e,Gt,"getBlockNumber")({});m&&m<S?x=await z(e,Ai,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:m+1n,toBlock:S,strict:w}):x=[],m=S}if(x.length===0)return;if(o)$.onLogs(x);else for(const S of x)$.onLogs([S])}catch(x){p&&x instanceof wr&&(g=!1),$.onError?.(x)}},{emitOnBegin:!0,interval:d});return async()=>{p&&await z(e,mn,"uninstallFilter")({filter:p}),P()}})})():(()=>{const w=l??!1,v=oe(["watchContractEvent",r,s,o,e.uid,i,d,w]);let $=!0,m=()=>$=!1;return Le(v,{onLogs:u,onError:c},p=>((async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),P=i?Rt({abi:n,eventName:i,args:s}):[],{unsubscribe:x}=await g.subscribe({params:["logs",{address:r,topics:P}],onData(S){if(!$)return;const N=S.result;try{const{eventName:E,args:T}=Rr({abi:n,data:N.data,topics:N.topics,strict:l}),O=Ne(N,{args:T,eventName:E});p.onLogs([O])}catch(E){let T,O;if(E instanceof Bt||E instanceof an){if(l)return;T=E.abiItem.name,O=E.abiItem.inputs?.some(M=>!("name"in M&&M.name))}const F=Ne(N,{args:O?[]:{},eventName:T});p.onLogs([F])}},onError(S){p.onError?.(S)}});m=x,$||m()}catch(g){c?.(g)}})(),()=>m()))})()}async function Df(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const qf={"0x0":"reverted","0x1":"success"};function ji(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Ne(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Se(e.transactionIndex):null,status:e.status?qf[e.status]:null,type:e.type?hi[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}function Vf(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:o="Base Client",type:i="base"}=e,a=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,l=e.account?te(e.account):void 0,{config:h,request:b,value:y}=e.transport({account:l,chain:n,pollingInterval:f}),w={...h,...y},v={account:l,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:o,pollingInterval:f,request:b,transport:w,type:i,uid:Xa(),...a?{experimental_blockTag:a}:{}};function $(m){return p=>{const g=p(m);for(const x in v)delete g[x];const P={...m,...g};return Object.assign(P,{extend:$(P)})}}return Object.assign(v,{extend:$(v)})}function Mr(e){if(!(e instanceof k))return!1;const t=e.walk(n=>n instanceof tr);return t instanceof tr?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function Zf(e){const{abi:t,data:n}=e,r=ht(n,0,4),s=t.find(o=>o.type==="function"&&r===Ft(ue(o)));if(!s)throw new Kc(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Ct(s.inputs,ht(n,4)):void 0}}const Fn="/docs/contract/encodeErrorResult";function Zs(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Xe({abi:t,args:r,name:n});if(!c)throw new As(n,{docsPath:Fn});s=c}if(s.type!=="error")throw new As(void 0,{docsPath:Fn});const o=ue(s),i=Ft(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new Zc(s.name,{docsPath:Fn});a=Ue(s.inputs,r)}return mt([i,a])}const Rn="/docs/contract/encodeFunctionResult";function Wf(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=Xe({abi:t,name:n});if(!i)throw new ft(n,{docsPath:Rn});s=i}if(s.type!=="function")throw new ft(void 0,{docsPath:Rn});if(!s.outputs)throw new zo(s.name,{docsPath:Rn});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new _o(r)})();return Ue(s.outputs,o)}const Ht="x-batch-gateway:true";async function Gi(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Zf({abi:Wn,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(Ht)?await Gi({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=Kf(c)}})),Wf({abi:Wn,functionName:"query",result:[s,o]})}function Kf(e){return e.name==="HttpRequestError"&&e.status?Zs({abi:Wn,errorName:"HttpError",args:[e.status,e.shortMessage]}):Zs({abi:[Qo],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Hi(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return we(t)?t:null}function sr(e){let t=new Uint8Array(32).fill(0);if(!e)return V(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Hi(n[r]),o=s?yt(s):q(De(n[r]),"bytes");t=q(fe([t,o]),"bytes")}return V(t)}function Yf(e){return`[${e.slice(2)}]`}function Xf(e){const t=new Uint8Array(32).fill(0);return e?Hi(e)||q(De(e)):V(t)}function jr(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(De(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=De(s[o]);i.byteLength>255&&(i=De(Yf(Xf(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Jf(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return wt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[sr(o),BigInt(s)]:[sr(o)];try{const l=be({abi:bs,functionName:"addr",args:d}),h={address:u,abi:go,functionName:"resolveWithGateways",args:[ze(jr(o)),l,i??[Ht]],blockNumber:n,blockTag:r},y=await z(e,he,"readContract")(h);if(y[0]==="0x")return null;const w=Je({abi:bs,args:d,functionName:"addr",data:y[0]});return w==="0x"||rn(w)==="0x00"?null:w}catch(l){if(a)throw l;if(Mr(l))return null;throw l}}class Qf extends k{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Pt extends k{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Gr extends k{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class ed extends k{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const td=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,nd=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,rd=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,sd=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function od(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ws(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Di({uri:e,gatewayUrls:t}){const n=rd.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ws(t?.ipfs,"https://ipfs.io"),s=Ws(t?.arweave,"https://arweave.net"),o=e.match(td),{protocol:i,subpath:a,target:c,subtarget:u=""}=o?.groups||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||nd.test(e);if(e.startsWith("http")&&!f&&!d){let h=e;return t?.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(sd,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Gr({uri:e})}function qi(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Qf({data:e});return e.image||e.image_url||e.image_data}async function id({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Hr({gatewayUrls:e,uri:qi(n)})}catch{throw new Gr({uri:t})}}async function Hr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Di({uri:t,gatewayUrls:e});if(r||await od(n))return n;throw new Gr({uri:t})}function ad(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Pt({reason:"Only EIP-155 supported"});if(!i)throw new Pt({reason:"Chain ID not found"});if(!c)throw new Pt({reason:"Contract address not found"});if(!s)throw new Pt({reason:"Token ID not found"});if(!a)throw new Pt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function cd(e,{nft:t}){if(t.namespace==="erc721")return he(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return he(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new ed({namespace:t.namespace})}async function ud(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?fd(e,{gatewayUrls:t,record:n}):Hr({uri:n,gatewayUrls:t})}async function fd(e,{gatewayUrls:t,record:n}){const r=ad(n),s=await cd(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=Di({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return Hr({uri:qi(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),id({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Vi(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return wt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:go,args:[ze(jr(o)),be({abi:ps,functionName:"text",args:[sr(o),s]}),i??[Ht]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await z(e,he,"readContract")(d);if(h[0]==="0x")return null;const b=Je({abi:ps,functionName:"text",data:h[0]});return b===""?null:b}catch(d){if(a)throw d;if(Mr(d))return null;throw d}}async function dd(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await z(e,Vi,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await ud(e,{record:c,gatewayUrls:r})}catch{return null}}async function ld(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return wt({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:Ja,args:[n,o,i??[Ht]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=z(e,he,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(Mr(f))return null;throw f}}async function hd(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return wt({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await z(e,he,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ze(jr(s))],blockNumber:n,blockTag:r});return c}async function Zi(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h,...b}=t,y=n?te(n):void 0;try{gt(t);const v=(typeof r=="bigint"?_(r):void 0)||s,$=e.chain?.formatters?.transactionRequest?.format,p=($||_t)({...bn(b,{format:$}),account:y,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h},"createAccessList"),g=await e.request({method:"eth_createAccessList",params:[p,v]});return{accessList:g.accessList,gasUsed:BigInt(g.gasUsed)}}catch(w){throw Ui(w,{...t,account:y,chain:e.chain})}}async function bd(e){const t=dn(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Wi(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=dn(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(h=>Rt({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?_(o):o,toBlock:typeof a=="bigint"?_(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function Ki(e){const t=dn(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function pd(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?_(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function yd(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function md(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?_(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Se(o)}async function or(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?_(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class gd extends k{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function wd(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,d]=await z(e,he,"readContract")({abi:xd,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new gd({address:n}):i}}const xd=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function vd(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function Ed(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?_(n):void 0,i=await e.request({method:"eth_feeHistory",params:[_(t),o||r,s]},{dedupe:!!o});return vd(i)}async function Pd(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Ne(o));return t.abi?Cr({abi:t.abi,logs:s,strict:n}):s}async function Ad({address:e,authorization:t,signature:n}){return Lt(Vo(e),await fi({authorization:t,signature:n}))}class Bd extends k{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(a=>`    ${wo(a)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class $d extends k{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${wo(n)}`,`Response: ${oe(t)}`],name:"OffchainLookupResponseMalformedError"})}}class Id extends k{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const Sd="0x556f1830",Yi={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function kd(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=ti({data:r,abi:[Yi]}),[i,a,c,u,f]=o,{ccipRead:d}=e,l=d&&typeof d?.request=="function"?d.request:Xi;try{if(!Lt(s,i))throw new Id({sender:i,to:s});const h=a.includes(Ht)?await Gi({data:c,ccipRequest:l}):await l({data:c,sender:i,urls:a}),{data:b}=await Mt(e,{blockNumber:t,blockTag:n,data:fe([u,Ue([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return b}catch(h){throw new Bd({callbackSelector:u,cause:h,data:r,extraData:f,sender:i,urls:a})}}async function Xi({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const o=n[s],i=o.includes("{data}")?"GET":"POST",a=i==="POST"?{data:e,sender:t}:void 0,c=i==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:i});let f;if(u.headers.get("Content-Type")?.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){r=new ys({body:a,details:f?.error?oe(f.error):u.statusText,headers:u.headers,status:u.status,url:o});continue}if(!we(f)){r=new $d({result:f,url:o});continue}return f}catch(u){r=new ys({body:a,details:u.message,url:o})}}throw r}const Td=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Xi,offchainLookup:kd,offchainLookupAbiItem:Yi,offchainLookupSignature:Sd},Symbol.toStringTag,{value:"Module"})),Nd=`Ethereum Signed Message:
`;function Od(e){const t=typeof e=="string"?qn(e):typeof e.raw=="string"?e.raw:V(e.raw),n=qn(`${Nd}${H(t)}`);return fe([n,t])}function Ji(e,t){return q(Od(e),t)}class Fd extends k{constructor({domain:t}){super(`Invalid domain "${oe(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Rd extends k{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Cd extends k{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function zd(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,d=a[u],l=f.match(Yo);if(l&&(typeof d=="number"||typeof d=="bigint")){const[y,w,v]=l;_(d,{signed:w==="int",size:Number.parseInt(v,10)/8})}if(f==="address"&&typeof d=="string"&&!ie(d))throw new _e({address:d});const h=f.match(L0);if(h){const[y,w]=h;if(w&&H(d)!==Number.parseInt(w,10))throw new Xc({expectedSize:Number.parseInt(w,10),givenSize:H(d)})}const b=s[f];b&&(Ld(f),o(b,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Fd({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new Rd({primaryType:r,types:s})}function _d({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Ld(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Cd({type:e})}function Ud(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:_d({domain:t}),...e.types};zd({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Md({domain:t,types:s})),r!=="EIP712Domain"&&o.push(Qi({data:n,primaryType:r,types:s})),q(fe(o))}function Md({domain:e,types:t}){return Qi({data:e,primaryType:"EIP712Domain",types:t})}function Qi({data:e,primaryType:t,types:n}){const r=ea({data:e,primaryType:t,types:n});return q(r)}function ea({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[jd({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=na({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return Ue(r,s)}function jd({primaryType:e,types:t}){const n=ze(Gd({primaryType:e,types:t}));return q(n)}function Gd({primaryType:e,types:t}){let n="";const r=ta({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function ta({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])ta({primaryType:o.type,types:t},n);return n}function na({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},q(ea({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},q(r)];if(n==="string")return[{type:"bytes32"},q(ze(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>na({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},q(Ue(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class Hd extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Dd={checksum:new Hd(8192)},Cn=Dd.checksum;function qd(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ks(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Qt(e,...t){if(!qd(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Ys(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Vd(e,t){Qt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Zd(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ra(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const Wd=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Kd(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Yd(e){for(let t=0;t<e.length;t++)e[t]=Kd(e[t]);return e}const Xs=Wd?e=>e:Yd;function Xd(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function sa(e){return typeof e=="string"&&(e=Xd(e)),Qt(e),e}class Jd{}function Qd(e){const t=r=>e().update(sa(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const Wt=BigInt(2**32-1),Js=BigInt(32);function el(e,t=!1){return t?{h:Number(e&Wt),l:Number(e>>Js&Wt)}:{h:Number(e>>Js&Wt)|0,l:Number(e&Wt)|0}}function tl(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=el(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const nl=(e,t,n)=>e<<n|t>>>32-n,rl=(e,t,n)=>t<<n|e>>>32-n,sl=(e,t,n)=>t<<n-32|e>>>64-n,ol=(e,t,n)=>e<<n-32|t>>>64-n,il=BigInt(0),At=BigInt(1),al=BigInt(2),cl=BigInt(7),ul=BigInt(256),fl=BigInt(113),oa=[],ia=[],aa=[];for(let e=0,t=At,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],oa.push(2*(5*r+n)),ia.push((e+1)*(e+2)/2%64);let s=il;for(let o=0;o<7;o++)t=(t<<At^(t>>cl)*fl)%ul,t&al&&(s^=At<<(At<<BigInt(o))-At);aa.push(s)}const ca=tl(aa,!0),dl=ca[0],ll=ca[1],Qs=(e,t,n)=>n>32?sl(e,t,n):nl(e,t,n),eo=(e,t,n)=>n>32?ol(e,t,n):rl(e,t,n);function hl(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],d=Qs(u,f,1)^n[a],l=eo(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=d,e[i+h+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=ia[i],c=Qs(s,o,a),u=eo(s,o,a),f=oa[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=dl[r],e[1]^=ll[r]}ra(n)}class Dr extends Jd{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,Ks(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Zd(this.state)}clone(){return this._cloneInto()}keccak(){Xs(this.state32),hl(this.state32,this.rounds),Xs(this.state32),this.posOut=0,this.pos=0}update(t){Ys(this),t=sa(t),Qt(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Ys(this,!1),Qt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ks(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Vd(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ra(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new Dr(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const bl=(e,t,n)=>Qd(()=>new Dr(t,e,n)),pl=bl(1,136,256/8);function ua(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=pl(uf(e));return n==="Bytes"?r:le(r)}const yl=/^0x[a-fA-F0-9]{40}$/;function gn(e,t={}){const{strict:n=!0}=t;if(!yl.test(e))throw new to({address:e,cause:new ml});if(n){if(e.toLowerCase()===e)return;if(fa(e)!==e)throw new to({address:e,cause:new gl})}}function fa(e){if(Cn.has(e))return Cn.get(e);gn(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=ua(df(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return Cn.set(e,s),s}function ir(e,t={}){const{strict:n=!0}=t??{};try{return gn(e,{strict:n}),!0}catch{return!1}}class to extends U{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class ml extends U{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class gl extends U{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const wl=/^(.*)\[([0-9]*)\]$/,xl=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,da=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,no=2n**256n-1n;function ct(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=Zr(t.type);if(o){const[i,a]=o;return El(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return $l(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return vl(e,{checksum:r});if(t.type==="bool")return Pl(e);if(t.type.startsWith("bytes"))return Al(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Bl(e,t);if(t.type==="string")return Il(e,{staticPosition:s});throw new Kr(t.type)}const ro=32,ar=32;function vl(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?fa(o):o)(le(hf(r,-20))),32]}function El(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=Ie(e.readBytes(ar)),u=o+c,f=u+ro;e.setPosition(u);const d=Ie(e.readBytes(ro)),l=St(t);let h=0;const b=[];for(let y=0;y<d;++y){e.setPosition(f+(l?y*32:h));const[w,v]=ct(e,t,{checksumAddress:r,staticPosition:f});h+=v,b.push(w)}return e.setPosition(o+32),[b,32]}if(St(t)){const c=Ie(e.readBytes(ar)),u=o+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=ct(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,f]=ct(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,a.push(u)}return[a,i]}function Pl(e){return[pf(e.readBytes(32),{size:32}),32]}function Al(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ie(e.readBytes(32));e.setPosition(n+i);const a=Ie(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[le(c),32]}return[le(e.readBytes(Number.parseInt(s,10),32)),32]}function Bl(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?bf(s,{signed:n}):Ie(s,{signed:n}),32]}function $l(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(St(t)){const c=Ie(e.readBytes(ar)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,h]=ct(e,d,{checksumAddress:r,staticPosition:u});a+=h,i[o?f:d?.name]=l}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=ct(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u?.name]=f,a+=d}return[i,a]}function Il(e,{staticPosition:t}){const n=Ie(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ie(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=yf(Ti(o));return e.setPosition(t+32),[i,32]}function Sl({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(qr({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function qr({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Zr(r.type);if(s){const[o,i]=s;return Tl(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return Cl(n,{checksumAddress:e,parameter:r});if(r.type==="address")return kl(n,{checksum:e});if(r.type==="bool")return Ol(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=da.exec(r.type)??[];return Fl(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return Nl(n,{type:r.type});if(r.type==="string")return Rl(n);throw new Kr(r.type)}function Vr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=ne(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(W(t+s,{size:32})),r.push(a),s+=ne(a)):n.push(a)}return de(...n,...r)}function kl(e,t){const{checksum:n=!1}=t;return gn(e,{strict:n}),{dynamic:!1,encoded:Ze(e.toLowerCase())}}function Tl(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new Dl(e);if(!o&&e.length!==r)throw new Hl({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=qr({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=Vr(a);if(o){const u=W(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?de(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:de(...a.map(({encoded:c})=>c))}}function Nl(e,{type:t}){const[,n]=t.split("bytes"),r=ne(e);if(!n){let s=e;return r%32!==0&&(s=We(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:de(Ze(W(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new ha({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:We(e)}}function Ol(e){if(typeof e!="boolean")throw new U(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ze(Ni(e))}}function Fl(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Ri({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:W(e,{size:32,signed:t})}}function Rl(e){const t=_r(e),n=Math.ceil(ne(t)/32),r=[];for(let s=0;s<n;s++)r.push(We(ge(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:de(We(W(ne(t),{size:32})),...r)}}function Cl(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=qr({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Vr(o):de(...o.map(({encoded:i})=>i))}}function Zr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function St(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(St);const n=Zr(e.type);return!!(n&&St({...e,type:n[1]}))}const zl={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Ul({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ll({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new so({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new so({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function _l(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(zl);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class so extends U{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Ll extends U{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Ul extends U{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Ml(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?ki(t):t,i=_l(o);if(ot(o)===0&&e.length>0)throw new Gl;if(ot(o)&&ot(o)<32)throw new jl({data:typeof t=="string"?t:le(t),parameters:e,size:ot(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(a);const[d,l]=ct(i,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function Wr(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new ba({expectedLength:e.length,givenLength:t.length});const s=Sl({checksumAddress:r,parameters:e,values:t}),o=Vr(s);return o.length===0?"0x":o}function cr(e,t){if(e.length!==t.length)throw new ba({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(cr.encode(s,o))}return de(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return gn(c),Ze(c.toLowerCase(),s?32:0)}if(n==="string")return _r(r);if(n==="bytes")return r;if(n==="bool")return Ze(Ni(r),s?32:1);const o=n.match(da);if(o){const[c,u,f="256"]=o,d=Number.parseInt(f,10)/8;return W(r,{size:s?32:d,signed:u==="int"})}const i=n.match(xl);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new ha({expectedSize:Number.parseInt(u,10),value:r});return We(r,s?32:0)}const a=n.match(wl);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":de(...f)}throw new Kr(n)}e.encode=t})(cr||(cr={}));function la(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Es(e):e}class jl extends U{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${st(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Gl extends U{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Hl extends U{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class ha extends U{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ne(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class ba extends U{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Dl extends U{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Kr extends U{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function pa(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new zn({signature:e});if(typeof e.s>"u")throw new zn({signature:e});if(n&&typeof e.yParity>"u")throw new zn({signature:e});if(e.r<0n||e.r>no)throw new Xl({value:e.r});if(e.s<0n||e.s>no)throw new Jl({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Xr({value:e.yParity})}function ql(e){return ya(le(e))}function ya(e){if(e.length!==130&&e.length!==132)throw new Yl({signature:e});const t=BigInt(ge(e,0,32)),n=BigInt(ge(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Yr(s)}catch{throw new Xr({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Vl(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Zl(e)}function Zl(e){const t=typeof e=="string"?ya(e):e instanceof Uint8Array?ql(e):typeof e.r=="string"?Kl(e):e.v?Wl(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return pa(t),t}function Wl(e){return{r:e.r,s:e.s,yParity:Yr(e.v)}}function Kl(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Yr(n)),typeof r!="number")throw new Xr({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Yr(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new Ql({value:e})}class Yl extends U{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ne(Af(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class zn extends U{constructor({signature:t}){super(`Signature \`${Si(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Xl extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Jl extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Xr extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Ql extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function e1(e,t={}){return typeof e.chainId=="string"?t1(e):{...e,...t.signature}}function t1(e){const{address:t,chainId:n,nonce:r}=e,s=Vl(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const n1="0x8010801080108010801080108010801080108010801080108010801080108010",r1=la("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function ma(e){if(typeof e=="string"){if(ge(e,-32)!==n1)throw new i1(e)}else pa(e.authorization)}function s1(e){ma(e);const t=Fi(ge(e,-64,-32)),n=ge(e,-t-64,-64),r=ge(e,0,-t-64),[s,o,i]=Ml(r1,n);return{authorization:e1({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function o1(e){try{return ma(e),!0}catch{return!1}}let i1=class extends U{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function a1(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function c1(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Se(e.nonce):void 0,storageProof:e.storageProof?a1(e.storageProof):void 0}}async function u1(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?_(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return c1(a)}async function f1(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?_(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Jr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:a}){const c=r||"latest",u=n!==void 0?_(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,_(o)]},{dedupe:!0}):typeof o=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,_(o)]},{dedupe:!!u}):i&&typeof a=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,_(a)]},{dedupe:!0})),!f)throw new ri({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||kr)(f,"getTransaction")}async function d1(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([z(e,Gt,"getBlockNumber")({}),t?z(e,Jr,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function Yt(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new si({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||ji)(n,"getTransactionReceipt")}async function l1(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return wt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let b=0,y=0;for(let $=0;$<u.length;$++){const{abi:m,address:p,args:g,functionName:P}=u[$];try{const x=be({abi:m,args:g,functionName:P});y+=(x.length-2)/2,f>0&&y>f&&h[b].length>0&&(b++,y=(x.length-2)/2,h[b]=[]),h[b]=[...h[b],{allowFailure:!0,callData:x,target:p}]}catch(x){const S=bt(x,{abi:m,address:p,args:g,docsPath:"/docs/contract/multicall",functionName:P,sender:n});if(!s)throw S;h[b]=[...h[b],{allowFailure:!0,callData:"0x",target:p}]}}const w=await Promise.allSettled(h.map($=>z(e,he,"readContract")({...l===null?{code:Lr}:{address:l},abi:Xt,account:n,args:[$],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),v=[];for(let $=0;$<w.length;$++){const m=w[$];if(m.status==="rejected"){if(!s)throw m.reason;for(let g=0;g<h[$].length;g++)v.push({status:"failure",error:m.reason,result:void 0});continue}const p=m.value;for(let g=0;g<p.length;g++){const{returnData:P,success:x}=p[g],{callData:S}=h[$][g],{abi:N,address:E,functionName:T,args:O}=u[v.length];try{if(S==="0x")throw new Ot;if(!x)throw new ln({data:P});const F=Je({abi:N,args:O,data:P,functionName:T});v.push(s?{result:F,status:"success"}:F)}catch(F){const M=bt(F,{abi:N,address:E,args:O,docsPath:"/docs/contract/multicall",functionName:T});if(!s)throw M;v.push({error:M,result:void 0,status:"failure"})}}}if(v.length!==u.length)throw new k("multicall results mismatch");return v}async function ur(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const l of s){const h=l.blockOverrides?zi(l.blockOverrides):void 0,b=l.calls.map(w=>{const v=w,$=v.account?te(v.account):void 0,m=v.abi?be(v):v.data,p={...v,account:$,data:v.dataSuffix?fe([m||"0x",v.dataSuffix]):m,from:v.from??$?.address};return gt(p),_t(p)}),y=l.stateOverrides?Ir(l.stateOverrides):void 0;c.push({blockOverrides:h,calls:b,stateOverrides:y})}const f=(typeof n=="bigint"?_(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((l,h)=>({...bi(l),calls:l.calls.map((b,y)=>{const{abi:w,args:v,functionName:$,to:m}=s[h].calls[y],p=b.error?.data??b.returnData,g=BigInt(b.gasUsed),P=b.logs?.map(E=>Ne(E)),x=b.status==="0x1"?"success":"failure",S=w&&x==="success"&&p!=="0x"?Je({abi:w,data:p,functionName:$}):null,N=(()=>{if(x==="success")return;let E;if(b.error?.data==="0x"?E=new Ot:b.error&&(E=new ln(b.error)),!!E)return bt(E,{abi:w??[],address:m??"0x",args:v,functionName:$??"<unknown>"})})();return{data:p,gasUsed:g,logs:P,status:x,...x==="success"?{result:S}:{error:N}}})}))}catch(c){const u=c,f=hn(u,{});throw f instanceof Nt?u:f}}function fr(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new U("Unable to normalize signature.");return s}function dr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ir(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>dr(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>dr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ga(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return ga(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?ir(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?ir(n[r],{strict:!1}):!1)return i}}function wa(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?vs(e):e;return{...r,...n?{hash:it(r)}:{}}}function wn(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=Bf(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?xa(u)===ge(t,0,4):u.type==="event"?it(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new en({name:t});if(i.length===1)return{...i[0],...s?{hash:it(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:it(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const h="inputs"in u&&u.inputs[l];return h?dr(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=ga(u.inputs,a.inputs,r);if(d)throw new b1({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=i;return{...u,overloads:f}})();if(!c)throw new en({name:t});return{...c,...s?{hash:it(c)}:{}}}function xa(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return wn(n,r)}return e[0]})();return ge(it(t),0,4)}function h1(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return wn(r,s)}return e[0]})(),n=typeof t=="string"?t:Jt(t);return fr(n)}function it(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return wn(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:ua(_r(h1(t)))}class b1 extends U{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${fr(Jt(t.abiItem))}\`, and`,`\`${n.type}\` in \`${fr(Jt(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class en extends U{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function p1(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,i]=e;return[m1(o),i]}return e})(),{bytecode:r,args:s}=n;return de(r,t.inputs?.length&&s?.length?Wr(t.inputs,s):"0x")}function y1(e){return wa(e)}function m1(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new en({name:"constructor"});return t}function g1(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[oo(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?oo([t,...r],t.name,{args:n}):t,o=w1(s),i=n.length>0?Wr(s.inputs,n):void 0;return i?de(o,i):o}function rt(e,t={}){return wa(e,t)}function oo(e,t,n){const r=wn(e,t,n);if(r.type!=="function")throw new en({name:t,type:"function"});return r}function w1(e){return xa(e)}const x1="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ye="0x0000000000000000000000000000000000000000",v1="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function E1(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?te(t.account):void 0;if(i&&!u)throw new k("`account` is required when `traceAssetChanges` is true");const f=u?p1(y1("constructor(bytes, bytes)"),{bytecode:_i,args:[v1,g1(rt("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async I=>{if(!I.data&&!I.abi)return;const{accessList:C}=await Zi(e,{account:u.address,...I,data:I.abi?be(I):I.data});return C.map(({address:L,storageKeys:j})=>j.length>0?L:null)})).then(I=>I.flat().filter(Boolean)):[],l=await ur(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((I,C)=>({abi:[rt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:I,from:ye,nonce:C})),stateOverrides:[{address:ye,nonce:0}]}]:[],{calls:[...s,{}].map(I=>({...I,from:u?.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((I,C)=>({abi:[rt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:I,from:ye,nonce:C})),stateOverrides:[{address:ye,nonce:0}]},{calls:d.map((I,C)=>({to:I,abi:[rt("function decimals() returns (uint256)")],functionName:"decimals",from:ye,nonce:C})),stateOverrides:[{address:ye,nonce:0}]},{calls:d.map((I,C)=>({to:I,abi:[rt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ye,nonce:C})),stateOverrides:[{address:ye,nonce:0}]},{calls:d.map((I,C)=>({to:I,abi:[rt("function symbol() returns (string)")],functionName:"symbol",from:ye,nonce:C})),stateOverrides:[{address:ye,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=i?l[2]:l[0],[b,y,,w,v,$,m,p]=i?l:[],{calls:g,...P}=h,x=g.slice(0,-1)??[],S=b?.calls??[],N=y?.calls??[],E=[...S,...N].map(I=>I.status==="success"?ke(I.data):null),T=w?.calls??[],O=v?.calls??[],F=[...T,...O].map(I=>I.status==="success"?ke(I.data):null),M=($?.calls??[]).map(I=>I.status==="success"?I.result:null),B=(p?.calls??[]).map(I=>I.status==="success"?I.result:null),A=(m?.calls??[]).map(I=>I.status==="success"?I.result:null),R=[];for(const[I,C]of F.entries()){const L=E[I];if(typeof C!="bigint"||typeof L!="bigint")continue;const j=M[I-1],G=B[I-1],ae=A[I-1],Y=I===0?{address:x1,decimals:18,symbol:"ETH"}:{address:d[I-1],decimals:ae||j?Number(j??1):void 0,symbol:G??void 0};R.some(Z=>Z.token.address===Y.address)||R.push({token:Y,value:{pre:L,post:C,diff:C-L}})}return{assetChanges:R,block:P,results:x}}const va="0x6492649264926492649264926492649264926492649264926492649264926492";function P1(e){if(ge(e,-32)!==va)throw new $1(e)}function A1(e){const{data:t,signature:n,to:r}=e;return de(Wr(la("address, bytes, bytes"),[r,t,n]),va)}function B1(e){try{return P1(e),!0}catch{return!1}}class $1 extends U{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}class Ea extends vr{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,l0(t);const r=cn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),lt(o)}update(t){return dt(this),this.iHash.update(t),this}digestInto(t){dt(this),Ve(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Pa=(e,t,n)=>new Ea(e,t).update(n).digest();Pa.create=(e,t)=>new Ea(e,t);const Qr=BigInt(0),lr=BigInt(1);function Dt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function es(e){if(!Dt(e))throw new Error("Uint8Array expected")}function kt(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Kt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Aa(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Qr:BigInt("0x"+e)}const Ba=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",I1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Tt(e){if(es(e),Ba)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=I1[e[n]];return t}const Pe={_0:48,_9:57,A:65,F:70,a:97,f:102};function io(e){if(e>=Pe._0&&e<=Pe._9)return e-Pe._0;if(e>=Pe.A&&e<=Pe.F)return e-(Pe.A-10);if(e>=Pe.a&&e<=Pe.f)return e-(Pe.a-10)}function tn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Ba)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=io(e.charCodeAt(o)),a=io(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function qe(e){return Aa(Tt(e))}function $a(e){return es(e),Aa(Tt(Uint8Array.from(e).reverse()))}function qt(e,t){return tn(e.toString(16).padStart(t*2,"0"))}function Ia(e,t){return qt(e,t).reverse()}function se(e,t,n){let r;if(typeof t=="string")try{r=tn(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Dt(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function nn(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];es(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const _n=e=>typeof e=="bigint"&&Qr<=e;function ts(e,t,n){return _n(e)&&_n(t)&&_n(n)&&t<=e&&e<n}function ut(e,t,n,r){if(!ts(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function S1(e){let t;for(t=0;e>Qr;e>>=lr,t+=1);return t}const xn=e=>(lr<<BigInt(e))-lr,Ln=e=>new Uint8Array(e),ao=e=>Uint8Array.from(e);function k1(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Ln(e),s=Ln(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=Ln(0))=>{s=a(ao([0]),d),r=a(),d.length!==0&&(s=a(ao([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const h=r.slice();l.push(h),d+=r.length}return nn(...l)};return(d,l)=>{i(),c(d);let h;for(;!(h=l(u()));)c();return i(),h}}const T1={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Dt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function vn(e,t,n={}){const r=(s,o,i)=>{const a=T1[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function co(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const J=BigInt(0),K=BigInt(1),Ge=BigInt(2),N1=BigInt(3),Sa=BigInt(4),ka=BigInt(5),Ta=BigInt(8);function X(e,t){const n=e%t;return n>=J?n:t+n}function re(e,t,n){let r=e;for(;t-- >J;)r*=r,r%=n;return r}function hr(e,t){if(e===J)throw new Error("invert: expected non-zero number");if(t<=J)throw new Error("invert: expected positive modulus, got "+t);let n=X(e,t),r=t,s=J,o=K;for(;n!==J;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==K)throw new Error("invert: does not exist");return X(s,t)}function Na(e,t){const n=(e.ORDER+K)/Sa,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function O1(e,t){const n=(e.ORDER-ka)/Ta,r=e.mul(t,Ge),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,Ge),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function F1(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-K,n=0;for(;t%Ge===J;)t/=Ge,n++;let r=Ge;const s=ns(e);for(;uo(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Na;let o=s.pow(r,t);const i=(t+K)/Ge;return function(c,u){if(c.is0(u))return u;if(uo(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,o),l=c.pow(u,t),h=c.pow(u,i);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let b=1,y=c.sqr(l);for(;!c.eql(y,c.ONE);)if(b++,y=c.sqr(y),b===f)throw new Error("Cannot find square root");const w=K<<BigInt(f-b-1),v=c.pow(d,w);f=b,d=c.sqr(v),l=c.mul(l,d),h=c.mul(h,v)}return h}}function R1(e){return e%Sa===N1?Na:e%Ta===ka?O1:F1(e)}const C1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function z1(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=C1.reduce((r,s)=>(r[s]="function",r),t);return vn(e,n)}function _1(e,t,n){if(n<J)throw new Error("invalid exponent, negatives unsupported");if(n===J)return e.ONE;if(n===K)return t;let r=e.ONE,s=t;for(;n>J;)n&K&&(r=e.mul(r,s)),s=e.sqr(s),n>>=K;return r}function Oa(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function uo(e,t){const n=(e.ORDER-K)/Ge,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function Fa(e,t){t!==void 0&&$t(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ns(e,t,n=!1,r={}){if(e<=J)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=Fa(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:xn(s),ZERO:J,ONE:K,create:c=>X(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return J<=c&&c<e},is0:c=>c===J,isOdd:c=>(c&K)===K,neg:c=>X(-c,e),eql:(c,u)=>c===u,sqr:c=>X(c*c,e),add:(c,u)=>X(c+u,e),sub:(c,u)=>X(c-u,e),mul:(c,u)=>X(c*u,e),pow:(c,u)=>_1(a,c,u),div:(c,u)=>X(c*hr(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>hr(c,e),sqrt:r.sqrt||(c=>(i||(i=R1(e)),i(a,c))),toBytes:c=>n?Ia(c,o):qt(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?$a(c):qe(c)},invertBatch:c=>Oa(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function Ra(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ca(e){const t=Ra(e);return t+Math.ceil(t/2)}function L1(e,t,n=!1){const r=e.length,s=Ra(t),o=Ca(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?$a(e):qe(e),a=X(i,t-K)+K;return n?Ia(a,s):qt(a,s)}const fo=BigInt(0),br=BigInt(1);function Un(e,t){const n=t.negate();return e?n:t}function za(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Mn(e,t){za(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=xn(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function lo(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=br);const u=t*r,f=u+Math.abs(a)-1,d=a===0,l=a<0,h=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:u}}function U1(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function M1(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const jn=new WeakMap,_a=new WeakMap;function Gn(e){return _a.get(e)||1}function j1(e,t){return{constTimeNegate:Un,hasPrecomputes(n){return Gn(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>fo;)r&br&&(s=s.add(o)),o=o.double(),r>>=br;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=Mn(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let f=1;f<o;f++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=Mn(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:b}=lo(s,c,a);s=u,d?i=i.add(Un(h,r[b])):o=o.add(Un(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=Mn(n,t);for(let a=0;a<i.windows&&s!==fo;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=lo(s,a,i);if(s=c,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=jn.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&jn.set(r,s(o))),o},wNAFCached(n,r,s){const o=Gn(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=Gn(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){za(r,t),_a.set(n,r),jn.delete(n)}}}function G1(e,t,n,r){U1(n,e),M1(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=S1(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=xn(c),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c;let l=i;for(let h=d;h>=0;h-=c){f.fill(i);for(let y=0;y<o;y++){const w=r[y],v=Number(w>>BigInt(h)&u);f[v]=f[v].add(n[y])}let b=i;for(let y=f.length-1,w=i;y>0;y--)w=w.add(f[y]),b=b.add(w);if(l=l.add(b),h!==0)for(let y=0;y<c;y++)l=l.double()}return l}function La(e){return z1(e.Fp),vn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Fa(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function ho(e){e.lowS!==void 0&&kt("lowS",e.lowS),e.prehash!==void 0&&kt("prehash",e.prehash)}function H1(e){const t=La(e);vn(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class D1 extends Error{constructor(t=""){super(t)}}const Ae={Err:D1,_tlv:{encode:(e,t)=>{const{Err:n}=Ae;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Kt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Kt(s.length/2|128):"";return Kt(e)+o+s+t},decode(e,t){const{Err:n}=Ae;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Ae;if(e<Be)throw new t("integer: negative integers are not allowed");let n=Kt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ae;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return qe(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ae,s=se("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Ae,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function Hn(e,t){return Tt(qt(e,t))}const Be=BigInt(0),D=BigInt(1);BigInt(2);const Dn=BigInt(3),q1=BigInt(4);function V1(e){const t=H1(e),{Fp:n}=t,r=ns(t.n,t.nBitLength),s=t.toBytes||((m,p,g)=>{const P=p.toAffine();return nn(Uint8Array.from([4]),n.toBytes(P.x),n.toBytes(P.y))}),o=t.fromBytes||(m=>{const p=m.subarray(1),g=n.fromBytes(p.subarray(0,n.BYTES)),P=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:g,y:P}});function i(m){const{a:p,b:g}=t,P=n.sqr(m),x=n.mul(P,m);return n.add(n.add(x,n.mul(m,p)),g)}function a(m,p){const g=n.sqr(p),P=i(m);return n.eql(g,P)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Dn),q1),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(m){return ts(m,D,t.n)}function d(m){const{allowedPrivateKeyLengths:p,nByteLength:g,wrapPrivateKey:P,n:x}=t;if(p&&typeof m!="bigint"){if(Dt(m)&&(m=Tt(m)),typeof m!="string"||!p.includes(m.length))throw new Error("invalid private key");m=m.padStart(g*2,"0")}let S;try{S=typeof m=="bigint"?m:qe(se("private key",m,g))}catch{throw new Error("invalid private key, expected hex or "+g+" bytes, got "+typeof m)}return P&&(S=X(S,x)),ut("private key",S,D,x),S}function l(m){if(!(m instanceof y))throw new Error("ProjectivePoint expected")}const h=co((m,p)=>{const{px:g,py:P,pz:x}=m;if(n.eql(x,n.ONE))return{x:g,y:P};const S=m.is0();p==null&&(p=S?n.ONE:n.inv(x));const N=n.mul(g,p),E=n.mul(P,p),T=n.mul(x,p);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:N,y:E}}),b=co(m=>{if(m.is0()){if(t.allowInfinityPoint&&!n.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:p,y:g}=m.toAffine();if(!n.isValid(p)||!n.isValid(g))throw new Error("bad point: x or y not FE");if(!a(p,g))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class y{constructor(p,g,P){if(p==null||!n.isValid(p))throw new Error("x required");if(g==null||!n.isValid(g)||n.is0(g))throw new Error("y required");if(P==null||!n.isValid(P))throw new Error("z required");this.px=p,this.py=g,this.pz=P,Object.freeze(this)}static fromAffine(p){const{x:g,y:P}=p||{};if(!p||!n.isValid(g)||!n.isValid(P))throw new Error("invalid affine point");if(p instanceof y)throw new Error("projective point not allowed");const x=S=>n.eql(S,n.ZERO);return x(g)&&x(P)?y.ZERO:new y(g,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const g=Oa(n,p.map(P=>P.pz));return p.map((P,x)=>P.toAffine(g[x])).map(y.fromAffine)}static fromHex(p){const g=y.fromAffine(o(se("pointHex",p)));return g.assertValidity(),g}static fromPrivateKey(p){return y.BASE.multiply(d(p))}static msm(p,g){return G1(y,r,p,g)}_setWindowSize(p){$.setWindowSize(this,p)}assertValidity(){b(this)}hasEvenY(){const{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){l(p);const{px:g,py:P,pz:x}=this,{px:S,py:N,pz:E}=p,T=n.eql(n.mul(g,E),n.mul(S,x)),O=n.eql(n.mul(P,E),n.mul(N,x));return T&&O}negate(){return new y(this.px,n.neg(this.py),this.pz)}double(){const{a:p,b:g}=t,P=n.mul(g,Dn),{px:x,py:S,pz:N}=this;let E=n.ZERO,T=n.ZERO,O=n.ZERO,F=n.mul(x,x),M=n.mul(S,S),B=n.mul(N,N),A=n.mul(x,S);return A=n.add(A,A),O=n.mul(x,N),O=n.add(O,O),E=n.mul(p,O),T=n.mul(P,B),T=n.add(E,T),E=n.sub(M,T),T=n.add(M,T),T=n.mul(E,T),E=n.mul(A,E),O=n.mul(P,O),B=n.mul(p,B),A=n.sub(F,B),A=n.mul(p,A),A=n.add(A,O),O=n.add(F,F),F=n.add(O,F),F=n.add(F,B),F=n.mul(F,A),T=n.add(T,F),B=n.mul(S,N),B=n.add(B,B),F=n.mul(B,A),E=n.sub(E,F),O=n.mul(B,M),O=n.add(O,O),O=n.add(O,O),new y(E,T,O)}add(p){l(p);const{px:g,py:P,pz:x}=this,{px:S,py:N,pz:E}=p;let T=n.ZERO,O=n.ZERO,F=n.ZERO;const M=t.a,B=n.mul(t.b,Dn);let A=n.mul(g,S),R=n.mul(P,N),I=n.mul(x,E),C=n.add(g,P),L=n.add(S,N);C=n.mul(C,L),L=n.add(A,R),C=n.sub(C,L),L=n.add(g,x);let j=n.add(S,E);return L=n.mul(L,j),j=n.add(A,I),L=n.sub(L,j),j=n.add(P,x),T=n.add(N,E),j=n.mul(j,T),T=n.add(R,I),j=n.sub(j,T),F=n.mul(M,L),T=n.mul(B,I),F=n.add(T,F),T=n.sub(R,F),F=n.add(R,F),O=n.mul(T,F),R=n.add(A,A),R=n.add(R,A),I=n.mul(M,I),L=n.mul(B,L),R=n.add(R,I),I=n.sub(A,I),I=n.mul(M,I),L=n.add(L,I),A=n.mul(R,L),O=n.add(O,A),A=n.mul(j,L),T=n.mul(C,T),T=n.sub(T,A),A=n.mul(C,R),F=n.mul(j,F),F=n.add(F,A),new y(T,O,F)}subtract(p){return this.add(p.negate())}is0(){return this.equals(y.ZERO)}wNAF(p){return $.wNAFCached(this,p,y.normalizeZ)}multiplyUnsafe(p){const{endo:g,n:P}=t;ut("scalar",p,Be,P);const x=y.ZERO;if(p===Be)return x;if(this.is0()||p===D)return this;if(!g||$.hasPrecomputes(this))return $.wNAFCachedUnsafe(this,p,y.normalizeZ);let{k1neg:S,k1:N,k2neg:E,k2:T}=g.splitScalar(p),O=x,F=x,M=this;for(;N>Be||T>Be;)N&D&&(O=O.add(M)),T&D&&(F=F.add(M)),M=M.double(),N>>=D,T>>=D;return S&&(O=O.negate()),E&&(F=F.negate()),F=new y(n.mul(F.px,g.beta),F.py,F.pz),O.add(F)}multiply(p){const{endo:g,n:P}=t;ut("scalar",p,D,P);let x,S;if(g){const{k1neg:N,k1:E,k2neg:T,k2:O}=g.splitScalar(p);let{p:F,f:M}=this.wNAF(E),{p:B,f:A}=this.wNAF(O);F=$.constTimeNegate(N,F),B=$.constTimeNegate(T,B),B=new y(n.mul(B.px,g.beta),B.py,B.pz),x=F.add(B),S=M.add(A)}else{const{p:N,f:E}=this.wNAF(p);x=N,S=E}return y.normalizeZ([x,S])[0]}multiplyAndAddUnsafe(p,g,P){const x=y.BASE,S=(E,T)=>T===Be||T===D||!E.equals(x)?E.multiplyUnsafe(T):E.multiply(T),N=S(this,g).add(S(p,P));return N.is0()?void 0:N}toAffine(p){return h(this,p)}isTorsionFree(){const{h:p,isTorsionFree:g}=t;if(p===D)return!0;if(g)return g(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:g}=t;return p===D?this:g?g(y,this):this.multiplyUnsafe(t.h)}toRawBytes(p=!0){return kt("isCompressed",p),this.assertValidity(),s(y,this,p)}toHex(p=!0){return kt("isCompressed",p),Tt(this.toRawBytes(p))}}y.BASE=new y(t.Gx,t.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:v}=t,$=j1(y,w?Math.ceil(v/2):v);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function Z1(e){const t=La(e);return vn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function W1(e){const t=Z1(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(B){return X(B,r)}function u(B){return hr(B,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:h}=V1({...t,toBytes(B,A,R){const I=A.toAffine(),C=n.toBytes(I.x),L=nn;return kt("isCompressed",R),R?L(Uint8Array.from([A.hasEvenY()?2:3]),C):L(Uint8Array.from([4]),C,n.toBytes(I.y))},fromBytes(B){const A=B.length,R=B[0],I=B.subarray(1);if(A===i&&(R===2||R===3)){const C=qe(I);if(!ts(C,D,n.ORDER))throw new Error("Point is not on curve");const L=l(C);let j;try{j=n.sqrt(L)}catch(Y){const Z=Y instanceof Error?": "+Y.message:"";throw new Error("Point is not on curve"+Z)}const G=(j&D)===D;return(R&1)===1!==G&&(j=n.neg(j)),{x:C,y:j}}else if(A===a&&R===4){const C=n.fromBytes(I.subarray(0,n.BYTES)),L=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:C,y:L}}else{const C=i,L=a;throw new Error("invalid Point, expected length of "+C+", or uncompressed "+L+", got "+A)}}});function b(B){const A=r>>D;return B>A}function y(B){return b(B)?c(-B):B}const w=(B,A,R)=>qe(B.slice(A,R));class v{constructor(A,R,I){ut("r",A,D,r),ut("s",R,D,r),this.r=A,this.s=R,I!=null&&(this.recovery=I),Object.freeze(this)}static fromCompact(A){const R=s;return A=se("compactSignature",A,R*2),new v(w(A,0,R),w(A,R,2*R))}static fromDER(A){const{r:R,s:I}=Ae.toSig(se("DER",A));return new v(R,I)}assertValidity(){}addRecoveryBit(A){return new v(this.r,this.s,A)}recoverPublicKey(A){const{r:R,s:I,recovery:C}=this,L=x(se("msgHash",A));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const j=C===2||C===3?R+t.n:R;if(j>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=(C&1)===0?"02":"03",ae=f.fromHex(G+Hn(j,n.BYTES)),Y=u(j),Z=c(-L*Y),Qe=c(I*Y),Fe=f.BASE.multiplyAndAddUnsafe(ae,Z,Qe);if(!Fe)throw new Error("point at infinify");return Fe.assertValidity(),Fe}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return tn(this.toDERHex())}toDERHex(){return Ae.hexFromSig(this)}toCompactRawBytes(){return tn(this.toCompactHex())}toCompactHex(){const A=s;return Hn(this.r,A)+Hn(this.s,A)}}const $={isValidPrivateKey(B){try{return d(B),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const B=Ca(t.n);return L1(t.randomBytes(B),t.n)},precompute(B=8,A=f.BASE){return A._setWindowSize(B),A.multiply(BigInt(3)),A}};function m(B,A=!0){return f.fromPrivateKey(B).toRawBytes(A)}function p(B){if(typeof B=="bigint")return!1;if(B instanceof f)return!0;const R=se("key",B).length,I=n.BYTES,C=I+1,L=2*I+1;if(!(t.allowedPrivateKeyLengths||s===C))return R===C||R===L}function g(B,A,R=!0){if(p(B)===!0)throw new Error("first arg must be private key");if(p(A)===!1)throw new Error("second arg must be public key");return f.fromHex(A).multiply(d(B)).toRawBytes(R)}const P=t.bits2int||function(B){if(B.length>8192)throw new Error("input is too large");const A=qe(B),R=B.length*8-o;return R>0?A>>BigInt(R):A},x=t.bits2int_modN||function(B){return c(P(B))},S=xn(o);function N(B){return ut("num < 2^"+o,B,Be,S),qt(B,s)}function E(B,A,R=T){if(["recovered","canonical"].some(Me=>Me in R))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:C}=t;let{lowS:L,prehash:j,extraEntropy:G}=R;L==null&&(L=!0),B=se("msgHash",B),ho(R),j&&(B=se("prehashed msgHash",I(B)));const ae=x(B),Y=d(A),Z=[N(Y),N(ae)];if(G!=null&&G!==!1){const Me=G===!0?C(n.BYTES):G;Z.push(se("extraEntropy",Me))}const Qe=nn(...Z),Fe=ae;function Pn(Me){const et=P(Me);if(!h(et))return;const An=u(et),xt=f.BASE.multiply(et).toAffine(),je=c(xt.x);if(je===Be)return;const vt=c(An*c(Fe+je*Y));if(vt===Be)return;let tt=(xt.x===je?0:2)|Number(xt.y&D),rs=vt;return L&&b(vt)&&(rs=y(vt),tt^=1),new v(je,rs,tt)}return{seed:Qe,k2sig:Pn}}const T={lowS:t.lowS,prehash:!1},O={lowS:t.lowS,prehash:!1};function F(B,A,R=T){const{seed:I,k2sig:C}=E(B,A,R),L=t;return k1(L.hash.outputLen,L.nByteLength,L.hmac)(I,C)}f.BASE._setWindowSize(8);function M(B,A,R,I=O){const C=B;A=se("msgHash",A),R=se("publicKey",R);const{lowS:L,prehash:j,format:G}=I;if(ho(I),"strict"in I)throw new Error("options.strict was renamed to lowS");if(G!==void 0&&G!=="compact"&&G!=="der")throw new Error("format must be compact or der");const ae=typeof C=="string"||Dt(C),Y=!ae&&!G&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!ae&&!Y)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Z,Qe;try{if(Y&&(Z=new v(C.r,C.s)),ae){try{G!=="compact"&&(Z=v.fromDER(C))}catch(tt){if(!(tt instanceof Ae.Err))throw tt}!Z&&G!=="der"&&(Z=v.fromCompact(C))}Qe=f.fromHex(R)}catch{return!1}if(!Z||L&&Z.hasHighS())return!1;j&&(A=t.hash(A));const{r:Fe,s:Pn}=Z,Me=x(A),et=u(Pn),An=c(Me*et),xt=c(Fe*et),je=f.BASE.multiplyAndAddUnsafe(Qe,An,xt)?.toAffine();return je?c(je.x)===Fe:!1}return{CURVE:t,getPublicKey:m,getSharedSecret:g,sign:F,verify:M,ProjectivePoint:f,Signature:v,utils:$}}function K1(e){return{hash:e,hmac:(t,...n)=>Pa(e,t,g0(...n)),randomBytes:w0}}function Y1(e,t){const n=r=>W1({...e,...K1(r)});return{...n(t),create:n}}const Ua=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),bo=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),X1=BigInt(0),J1=BigInt(1),pr=BigInt(2),po=(e,t)=>(e+t/pr)/t;function Q1(e){const t=Ua,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=re(f,n,t)*f%t,l=re(d,n,t)*f%t,h=re(l,pr,t)*u%t,b=re(h,s,t)*h%t,y=re(b,o,t)*b%t,w=re(y,a,t)*y%t,v=re(w,c,t)*w%t,$=re(v,a,t)*y%t,m=re($,n,t)*f%t,p=re(m,i,t)*b%t,g=re(p,r,t)*u%t,P=re(g,pr,t);if(!yr.eql(yr.sqr(P),e))throw new Error("Cannot find square root");return P}const yr=ns(Ua,void 0,void 0,{sqrt:Q1}),Ma=Y1({a:X1,b:BigInt(7),Fp:yr,n:bo,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=bo,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-J1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=po(o*e,t),c=po(-r*e,t);let u=X(e-a*n-c*s,t),f=X(-a*r-c*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},wi),eh=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Ma},Symbol.toStringTag,{value:"Module"}));function th({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Ma.Signature(ke(e),ke(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:xe(i)}async function En(e,t){const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:o=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,i=(()=>{const a=t.signature;return we(a)?a:typeof a=="object"&&"r"in a&&"s"in a?th(a):V(a)})();try{return o1(i)?await nh(e,{...t,multicallAddress:o,signature:i}):await rh(e,{...t,verifierAddress:s,signature:i})}catch(a){try{if(Lt(Vo(n),await ai({hash:r,signature:i})))return!0}catch{}if(a instanceof Ke)return!1;throw a}}async function nh(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:f}=s1(t.signature);if(await or(e,{address:n,blockNumber:r,blockTag:s})===mt(["0xef0100",a.address]))return await sh(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:_(a.r,{size:32}),s:_(a.s,{size:32}),yParity:a.yParity};if(!await Ad({address:n,authorization:l}))throw new Ke;const b=await z(e,he,"readContract")({...i?{address:i}:{code:Lr},authorizationList:[l],abi:Xt,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:be({abi:xo,functionName:"isValidSignature",args:[o,u]})}]]});if(b[b.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Ke}async function rh(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||B1(i)?i:A1({data:s,signature:i,to:r}))(),f=a?{to:a,data:be({abi:ms,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:Ur({abi:ms,args:[n,o,u],bytecode:Nf}),...c},{data:d}=await z(e,Mt,"call")(f).catch(l=>{throw l instanceof oi?new Ke:l});if(Qa(d??"0x0"))return!0;throw new Ke}async function sh(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await z(e,he,"readContract")({address:n,abi:xo,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof ii?new Ke:c})).startsWith("0x1626ba7e"))return!0;throw new Ke}class Ke extends Error{}async function oh(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=Ji(n);return En(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function ih(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,d=Ud({message:i,primaryType:a,types:c,domain:u});return En(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function ja(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=oe(["watchBlockNumber",e.uid,t,n,i]);return Le(d,{onBlockNumber:r,onError:s},l=>jt(async()=>{try{const h=await z(e,Gt,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&n)for(let b=c+1n;b<h;b++)l.onBlockNumber(b,c),c=b}(c===void 0||h>c)&&(l.onBlockNumber(h,c),c=h)}catch(h){l.onError?.(h)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=oe(["watchBlockNumber",e.uid,t,n]);return Le(d,{onBlockNumber:r,onError:s},l=>{let h=!0,b=()=>h=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find($=>$.config.type==="webSocket"||$.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:w}=await y.subscribe({params:["newHeads"],onData(v){if(!h)return;const $=ke(v.result?.number);l.onBlockNumber($,c),c=$},onError(v){l.onError?.(v)}});b=w,h||b()}catch(y){s?.(y)}})(),()=>b()})})()}async function ah(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:g})=>~~(1<<g)*200,timeout:c=18e4}=t,u=oe(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let d,l,h,b=!1,y,w;const{promise:v,resolve:$,reject:m}=ec(),p=c?setTimeout(()=>{w?.(),y?.(),m(new bu({hash:s}))},c):void 0;return y=Le(u,{onReplaced:o,resolve:$,reject:m},async g=>{if(h=await z(e,Yt,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(p),g.resolve(h),y?.();return}w=z(e,ja,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(P){const x=N=>{clearTimeout(p),w?.(),N(),y?.()};let S=P;if(!b)try{if(h){if(r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;x(()=>g.resolve(h));return}if(n&&!d&&(b=!0,await gs(async()=>{d=await z(e,Jr,"getTransaction")({hash:s}),d.blockNumber&&(S=d.blockNumber)},{delay:a,retryCount:i}),b=!1),h=await z(e,Yt,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;x(()=>g.resolve(h))}catch(N){if(N instanceof ri||N instanceof si){if(!d){b=!1;return}try{l=d,b=!0;const E=await gs(()=>z(e,ce,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:F})=>F instanceof li});b=!1;const T=E.transactions.find(({from:F,nonce:M})=>F===l.from&&M===l.nonce);if(!T||(h=await z(e,Yt,"getTransactionReceipt")({hash:T.hash}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r)))return;let O="replaced";T.to===l.to&&T.value===l.value&&T.input===l.input?O="repriced":T.from===T.to&&T.value===0n&&(O="cancelled"),x(()=>{g.onReplaced?.({reason:O,replacedTransaction:l,transaction:T,transactionReceipt:h}),g.resolve(h)})}catch(E){x(()=>g.reject(E))}}else x(()=>g.reject(N))}}})}),v}function ch(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const b=oe(["watchBlocks",e.uid,t,n,r,f,c]);return Le(b,{onBlock:s,onError:o},y=>jt(async()=>{try{const w=await z(e,ce,"getBlock")({blockTag:t,includeTransactions:f});if(w.number!==null&&d?.number!=null){if(w.number===d.number)return;if(w.number-d.number>1&&n)for(let v=d?.number+1n;v<w.number;v++){const $=await z(e,ce,"getBlock")({blockNumber:v,includeTransactions:f});y.onBlock($,d),d=$}}(d?.number==null||t==="pending"&&w?.number==null||w.number!==null&&w.number>d.number)&&(y.onBlock(w,d),d=w)}catch(w){y.onError?.(w)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,y=!0,w=()=>b=!1;return(async()=>{try{r&&z(e,ce,"getBlock")({blockTag:t,includeTransactions:f}).then(m=>{b&&y&&(s(m,void 0),y=!1)}).catch(o);const v=(()=>{if(e.transport.type==="fallback"){const m=e.transport.transports.find(p=>p.config.type==="webSocket"||p.config.type==="ipc");return m?m.value:e.transport}return e.transport})(),{unsubscribe:$}=await v.subscribe({params:["newHeads"],async onData(m){if(!b)return;const p=await z(e,ce,"getBlock")({blockNumber:m.result?.number,includeTransactions:f}).catch(()=>{});b&&(s(p,d),y=!1,d=p)},onError(m){o?.(m)}});w=$,b||w()}catch(v){o?.(v)}})(),()=>w()})()}function uh(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=d??!1;return l?(()=>{const w=oe(["watchEvent",t,n,r,e.uid,s,f,i]);return Le(w,{onLogs:c,onError:a},v=>{let $;i!==void 0&&($=i-1n);let m,p=!1;const g=jt(async()=>{if(!p){try{m=await z(e,Wi,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}p=!0;return}try{let P;if(m)P=await z(e,yn,"getFilterChanges")({filter:m});else{const x=await z(e,Gt,"getBlockNumber")({});$&&$!==x?P=await z(e,zr,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:$+1n,toBlock:x}):P=[],$=x}if(P.length===0)return;if(r)v.onLogs(P);else for(const x of P)v.onLogs([x])}catch(P){m&&P instanceof wr&&(p=!1),v.onError?.(P)}},{emitOnBegin:!0,interval:f});return async()=>{m&&await z(e,mn,"uninstallFilter")({filter:m}),g()}})})():(()=>{let w=!0,v=()=>w=!1;return(async()=>{try{const $=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),m=o??(s?[s]:void 0);let p=[];m&&(p=[m.flatMap(x=>Rt({abi:[x],eventName:x.name,args:n}))],s&&(p=p[0]));const{unsubscribe:g}=await $.subscribe({params:["logs",{address:t,topics:p}],onData(P){if(!w)return;const x=P.result;try{const{eventName:S,args:N}=Rr({abi:m??[],data:x.data,topics:x.topics,strict:h}),E=Ne(x,{args:N,eventName:S});c([E])}catch(S){let N,E;if(S instanceof Bt||S instanceof an){if(d)return;N=S.abiItem.name,E=S.abiItem.inputs?.some(O=>!("name"in O&&O.name))}const T=Ne(x,{args:E?[]:{},eventName:N});c([T])}},onError(P){a?.(P)}});v=g,w||v()}catch($){a?.($)}})(),()=>v()})()}function fh(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=oe(["watchPendingTransactions",e.uid,t,o]);return Le(u,{onTransactions:r,onError:n},f=>{let d;const l=jt(async()=>{try{if(!d)try{d=await z(e,Ki,"createPendingTransactionFilter")({});return}catch(b){throw l(),b}const h=await z(e,yn,"getFilterChanges")({filter:d});if(h.length===0)return;if(t)f.onTransactions(h);else for(const b of h)f.onTransactions([b])}catch(h){f.onError?.(h)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await z(e,mn,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n?.(l)}});f=d,u||f()}catch(d){n?.(d)}})(),()=>f()})()}function dh(e){const{scheme:t,statement:n,...r}=e.match(lh)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=e.match(hh)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const lh=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,hh=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function bh(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!ie(r.address,{strict:!1})||t&&!Lt(r.address,t))return!1}catch{return!1}return!0}async function ph(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=dh(s);if(!f.address||!bh({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const l=Ji(s);return En(e,{address:f.address,hash:l,signature:a,...u})}async function yh(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,_(r)]:[t]},{retryCount:0}),i=(e.chain?.formatters?.transactionReceipt?.format||ji)(s);if(i.status==="reverted"&&n)throw new hu({receipt:i});return i}function mh(e){return{call:t=>Mt(e,t),createAccessList:t=>Zi(e,t),createBlockFilter:()=>bd(e),createContractEventFilter:t=>Jo(e,t),createEventFilter:t=>Wi(e,t),createPendingTransactionFilter:()=>Ki(e),estimateContractGas:t=>Xu(e,t),estimateGas:t=>Fr(e,t),getBalance:t=>pd(e,t),getBlobBaseFee:()=>yd(e),getBlock:t=>ce(e,t),getBlockNumber:t=>Gt(e,t),getBlockTransactionCount:t=>md(e,t),getBytecode:t=>or(e,t),getChainId:()=>Or(e),getCode:t=>or(e,t),getContractEvents:t=>Ai(e,t),getEip712Domain:t=>wd(e,t),getEnsAddress:t=>Jf(e,t),getEnsAvatar:t=>dd(e,t),getEnsName:t=>ld(e,t),getEnsResolver:t=>hd(e,t),getEnsText:t=>Vi(e,t),getFeeHistory:t=>Ed(e,t),estimateFeesPerGas:t=>Fu(e,t),getFilterChanges:t=>yn(e,t),getFilterLogs:t=>Pd(e,t),getGasPrice:()=>Tr(e),getLogs:t=>zr(e,t),getProof:t=>u1(e,t),estimateMaxPriorityFeePerGas:t=>Ou(e,t),fillTransaction:t=>Ei(e,t),getStorageAt:t=>f1(e,t),getTransaction:t=>Jr(e,t),getTransactionConfirmations:t=>d1(e,t),getTransactionCount:t=>yi(e,t),getTransactionReceipt:t=>Yt(e,t),multicall:t=>l1(e,t),prepareTransactionRequest:t=>Pi(e,t),readContract:t=>he(e,t),sendRawTransaction:t=>Df(e,t),sendRawTransactionSync:t=>yh(e,t),simulate:t=>ur(e,t),simulateBlocks:t=>ur(e,t),simulateCalls:t=>E1(e,t),simulateContract:t=>zf(e,t),verifyHash:t=>En(e,t),verifyMessage:t=>oh(e,t),verifySiweMessage:t=>ph(e,t),verifyTypedData:t=>ih(e,t),uninstallFilter:t=>mn(e,t),waitForTransactionReceipt:t=>ah(e,t),watchBlocks:t=>ch(e,t),watchBlockNumber:t=>ja(e,t),watchContractEvent:t=>Hf(e,t),watchEvent:t=>uh(e,t),watchPendingTransactions:t=>fh(e,t)}}function kh(e){const{key:t="public",name:n="Public Client"}=e;return Vf({...e,key:t,name:n,type:"publicClient"}).extend(mh)}export{Hc as AbiConstructorNotFoundError,Ps as AbiConstructorParamsNotFoundError,Fo as AbiDecodingDataSizeTooSmallError,Ot as AbiDecodingZeroDataError,Dc as AbiEncodingArrayLengthMismatchError,qc as AbiEncodingBytesSizeMismatchError,Vc as AbiEncodingLengthMismatchError,Zc as AbiErrorInputsNotFoundError,As as AbiErrorNotFoundError,Ro as AbiErrorSignatureNotFoundError,Bs as AbiEventNotFoundError,Wc as AbiEventSignatureEmptyTopicsError,Co as AbiEventSignatureNotFoundError,ft as AbiFunctionNotFoundError,zo as AbiFunctionOutputsNotFoundError,Kc as AbiFunctionSignatureNotFoundError,cu as AccountStateConflictError,Oh as AtomicReadyWalletRejectedUpgradeError,Fh as AtomicityNotSupportedError,k as BaseError,di as BaseFeeScalarError,li as BlockNotFoundError,Rh as BundleTooLargeError,Xc as BytesSizeMismatchError,oi as CallExecutionError,Ch as ChainDisconnectedError,rr as ChainDoesNotSupportContract,Ic as CircularReferenceError,Li as ClientChainNotConfiguredError,ii as ContractFunctionExecutionError,tr as ContractFunctionRevertedError,pu as ContractFunctionZeroDataError,yu as CounterfactualDeploymentFailedError,Bt as DecodeLogDataMismatch,an as DecodeLogTopicsMismatch,zh as DuplicateIdError,Sr as Eip1559FeesNotSupportedError,Pt as EnsAvatarInvalidNftUriError,ed as EnsAvatarUnsupportedNamespaceError,Gr as EnsAvatarUriResolutionError,Au as EstimateGasExecutionError,Vt as ExecutionRevertedError,Vn as FeeCapTooHighError,ss as FeeCapTooLowError,t0 as FilterTypeNotSupportedError,ys as HttpRequestError,cs as InsufficientFundsError,Ha as IntegerOutOfRangeError,Wa as InternalRpcError,us as IntrinsicGasTooHighError,fs as IntrinsicGasTooLowError,Qc as InvalidAbiDecodingTypeError,Jc as InvalidAbiEncodingTypeError,yc as InvalidAbiItemError,wc as InvalidAbiParametersError,Ac as InvalidAbiTypeParameterError,_e as InvalidAddressError,_o as InvalidArrayError,Da as InvalidBytesBooleanError,e0 as InvalidDefinitionTypeError,Fd as InvalidDomainError,Pc as InvalidFunctionModifierError,_h as InvalidHexBooleanError,wr as InvalidInputRpcError,Ec as InvalidModifierError,xc as InvalidParameterError,Lh as InvalidParamsRpcError,Sc as InvalidParenthesisError,Rd as InvalidPrimaryTypeError,Uh as InvalidRequestRpcError,du as InvalidSerializableTransactionError,pt as InvalidSignatureError,$c as InvalidStructSignatureError,Cd as InvalidStructTypeError,Mh as JsonRpcVersionUnsupportedError,jh as LimitExceededRpcError,Tu as MaxFeePerGasTooLowError,Gh as MethodNotFoundRpcError,Hh as MethodNotSupportedRpcError,as as NonceMaxValueError,os as NonceTooHighError,is as NonceTooLowError,Dh as ParseRpcError,qh as ProviderDisconnectedError,Vh as ProviderRpcError,ln as RawContractError,Zh as ResourceNotFoundRpcError,Wh as ResourceUnavailableRpcError,Kh as RpcError,Ka as RpcRequestError,Yh as SizeExceedsPaddingSizeError,Xh as SizeOverflowError,yo as SliceOffsetOutOfBoundsError,vc as SolidityProtectedKeywordError,uu as StateAssignmentConflictError,Jh as SwitchChainError,Qh as TimeoutError,Zn as TipAboveFeeCapError,lu as TransactionExecutionError,ri as TransactionNotFoundError,si as TransactionReceiptNotFoundError,eb as TransactionRejectedRpcError,ds as TransactionTypeNotSupportedError,tb as UnauthorizedProviderError,nb as UnknownBundleIdError,Nt as UnknownNodeError,rb as UnknownRpcError,Bc as UnknownSignatureError,mc as UnknownTypeError,sb as UnsupportedChainIdError,ob as UnsupportedNonOptionalCapabilityError,ib as UnsupportedProviderMethodError,ab as UrlRequiredError,cb as UserRejectedRequestError,bu as WaitForTransactionReceiptTimeoutError,gt as assertRequest,mi as blobsToCommitments,gi as blobsToProofs,r0 as boolToBytes,Ga as boolToHex,J0 as bytesToBigInt,Q0 as bytesToBool,V as bytesToHex,$e as bytesToNumber,eu as bytesToString,Xi as ccipFetch,Xi as ccipRequest,fn as checksumAddress,Gu as commitmentToVersionedHash,Hu as commitmentsToVersionedHashes,fe as concat,z0 as concatBytes,mt as concatHex,Vf as createClient,kh as createPublicClient,ub as createTransport,Ct as decodeAbiParameters,ti as decodeErrorResult,Rr as decodeEventLog,Zf as decodeFunctionData,Je as decodeFunctionResult,fb as defineChain,_i as deploylessCallViaBytecodeBytecode,Tf as deploylessCallViaFactoryBytecode,Ue as encodeAbiParameters,Ur as encodeDeployData,Zs as encodeErrorResult,Rt as encodeEventTopics,be as encodeFunctionData,Wf as encodeFunctionResult,db as erc20Abi,ms as erc6492SignatureValidatorAbi,Nf as erc6492SignatureValidatorByteCode,x1 as ethAddress,Va as etherUnits,lb as fallback,bi as formatBlock,$r as formatEther,me as formatGwei,Ne as formatLog,kr as formatTransaction,ji as formatTransactionReceipt,_t as formatTransactionRequest,qa as formatUnits,Xe as getAbiItem,Vo as getAddress,wt as getChainContractAddress,bt as getContractError,un as getEventSelector,R0 as getEventSignature,Ft as getFunctionSelector,R0 as getFunctionSignature,Wu as getTransactionType,_d as getTypesForEIP712Domain,hb as gweiUnits,Md as hashDomain,Ji as hashMessage,Qi as hashStruct,Ud as hashTypedData,ke as hexToBigInt,Qa as hexToBool,xe as hexToBytes,Se as hexToNumber,bb as http,ie as isAddress,Lt as isAddressEqual,we as isHex,q as keccak256,Xf as labelhash,ku as maxUint256,Xt as multicall3Abi,sr as namehash,s0 as numberToBytes,_ as numberToHex,kd as offchainLookup,Yi as offchainLookupAbiItem,Sd as offchainLookupSignature,mr as pad,pb as padBytes,He as padHex,Oo as parseAbi,vs as parseAbiItem,Es as parseAbiParameters,Cr as parseEventLogs,Z0 as prepareEncodeFunctionData,Nd as presignMessagePrefix,mh as publicActions,ai as recoverAddress,wu as recoverPublicKey,$u as rpcTransactionType,th as serializeSignature,ju as sha256,yb as shouldThrow,th as signatureToHex,H as size,ht as slice,Ko as sliceBytes,_0 as sliceHex,De as stringToBytes,qn as stringToHex,oe as stringify,Zu as toBlobSidecars,Vu as toBlobs,yt as toBytes,qo as toEventHash,un as toEventSelector,R0 as toEventSignature,qo as toFunctionHash,Ft as toFunctionSelector,R0 as toFunctionSignature,ze as toHex,Od as toPrefixedMessage,xu as toRlp,hi as transactionType,rn as trim,ms as universalSignatureValidatorAbi,Nf as universalSignatureValidatorByteCode,zd as validateTypedData,jf as withCache,gs as withRetry,mb as withTimeout,ye as zeroAddress};
